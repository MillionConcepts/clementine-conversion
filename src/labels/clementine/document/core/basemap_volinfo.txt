PDS_VERSION_ID      = PDS3
RECORD_TYPE         = STREAM
SPACECRAFT_NAME     = "CLEMENTINE 1"
TARGET_NAME         = "MOON"
OBJECT              = TEXT
 INTERCHANGE_FORMAT = ASCII
 PUBLICATION_DATE   = 1997-07-01
 NOTE               = "THE CLEMENTINE BASEMAP MOSAIC"
END_OBJECT          = TEXT
END


























































                       THE CLEMENTINE BASEMAP MOSAIC











                                    by

                               Alfred McEwen
                       Lunar and Planetary Laboratory
                            University of Arizona
                              Tucson, AZ. 85721



            Eric Eliason , Chris Isbell , Ella Lee, Tammy Becker
                       United States Geological Survey
                           Branch of Astrogeology
                           2255 North Gemini Drive
                            Flagstaff, AZ 86001
                       

                              Mark Robinson
                       Department of Geological Sciences
                           Northwestern University
                            Evanston, IL. 60208 


                               July 1, 1997





















                                 CONTENTS


     1  -  INTRODUCTION
     2  -  CLEMENTINE MISSION
     3  -  ULTRAVIOLET/VISIBE CAMERA (UVVIS)
     4  -  LUNAR ORBIT SUMMARY
     5  -  GEOMETRIC ACCURACY
     6  -  RADIOMETRIC UNITS
     7  -  DATA PROCESSING
     8  -  FILES, DIRECTORIES, AND DISK CONTENTS
     9  -  IMAGE FILE ORGANIZATION
     10 -  INDEX FILES
     11 -  ACKNOWLEDGMENTS
     12 -  REFERENCES

     APPENDIX A - KEYWORD ASSIGNMENTS
     APPENDIX B - GEOMETRIC DEFINITION OF A PIXEL



INTRODUCTION
============

The Clementine Basemap Mosaic of Earth's Moon is a radiometrically 
and geometrically controlled, photometrically modeled global 
Mosaicked Digital Image Model [Batson, 1987; Batson, 1990] compiled 
using more than 43,000 images from the 750 nanometer filter 
observations from the Ultraviolet/Visible camera onboard the 
Clementine Spacecraft. The basemap mosaic is mapped in the 
Sinusoidal Equal-Area Projection [Snyder, J.P, 1982] (see the 
'dsmap.cat' file in the 'catalog' directory for more information on 
the Sinusoidal projection) at a resolution of 100 meters per pixel 
requiring approximately 10 gigabytes of digital storage.

The basemap is partitioned into 14 geographic zones with each zone 
contained on a single CD volume. Twelve zones, each 30 degrees wide 
in longitude and ranging from 70 degrees north to 70 degrees south, 
make up the mid-latitude regions (CD volumes 2-13). The two polar 
zones cover 360 degrees of longitude from 70 degrees latitude to 
the pole (CD volumes 1 and 14). The polar regions additionally 
contain orthographic projection maps centered at the poles. A 15-th 
volume contains reduced-resolution planetwide coverage at .5, 2.5, 
and 12.5 km/pixels. Backplane data files for emission, incidence, 
and phase angle values are also present on volume 15.

The geographic zones are further divided into "tiles". Each tile 
covers ~7 degrees of latitude and ~6 degrees of longitude at the 
equatorial regions to larger longitude coverage at higher latitudes 
(longitude convergence at the poles allows more longitude coverage 
of each tile at the higher latitudes with approximately the same 
file size). Tiles are stored as image files of approximately 2000 
pixels on a side. Pixels are 16-bit signed integers. The table 
shown below summarizes the contents of each CD volume.

                     CD GEOGRAPHIC COVERAGES
             CD Volume  Latitude Range Longitude Range
             ===============================================
               cl_3001   70 N to 90 N     0  to 360 
               cl_3002   70 S to 70 N     0  to 30 
               cl_3003   70 S to 70 N    30  to 60 
               cl_3004   70 S to 70 N    60  to 90 
               cl_3005   70 S to 70 N    90  to 120 
               cl_3006   70 S to 70 N   120  to 150 
               cl_3007   70 S to 70 N   150  to 180 
               cl_3008   70 S to 70 N   180  to 210 
               cl_3009   70 S to 70 N   210  to 240 
               cl_3010   70 S to 70 N   240  to 270 
               cl_3011   70 S to 70 N   270  to 300 
               cl_3012   70 S to 70 N   300  to 330 
               cl_3013   70 S to 70 N   330  to 360 
               cl_3014   90 S to 70 S     0  to 360 
               cl_3015   (reduced resolution global coverage)

The CD volume set contains ancillary data files that support the 
basemap mosaic. These files include browse images stored in a 
'JPEG' format, 'HTML' documents that support a web browser 
interface to the CDs, index files ('imgindx.tab' and 'srcindx.tab') 
that tabulate the contents of the CD volume set, and documentation 
files that describe the archive collection. For more information on 
the contents and organization of the CD volume set refer to the 
"Files, Directories, and Disk Contents" section of this document. 
Additionally, the 15-th volume holds special image arrays 
containing information about the illumination and viewing geometry. 
A file exists each for the solar illumination angle, emission 
angle, and the phase angle at 2.5 kilometers per pixel.

Using a web browser, such as Netscape or M/S Internet Explorer, 
open the 'index.htm' file located in the 'root' directory of each 
CD. The html document will direct you to other informational 
documents and the image browser for rapidly viewing the image 
collection.

Software tools for viewing and accessing of the image collection 
are available through the Planetary Data System's (PDS) internet 
services. Refer to the 'aareadme.txt' located in the 'root' for 
more information on these tools. NASAView provides an image display 
capability for viewing images stored in a PDS format [JPL, 1992]. 
NASAView is soon to be operational on Macintosh, Windows-95, and 
UNIX platforms. The MapMaker system enables users to generate 
seamless image maps for any latitude-longitude region at a variety 
of scales and map projections. For more information on the MapMaker 
system, contact the PDS Imaging Node.


CLEMENTINE MISSION
===================

The Clementine Mission [Nozette et al., 1994], officially 
designated as the Deep Space Program Science Experiment (DSPSE), is 
the first in a planned series of technology demonstrations jointly 
sponsored by the Ballistic Missile Defense Organization (BMDO) and 
the National Aeronautics and Space Administration (NASA). 
Clementine was launched on 1994-01-25 aboard a Titan IIG rocket 
from Vandenburg Air Force Base in California. The mission included 
two months of systematic lunar mapping (1994-02-26 through 1994-04-
21), which was to have been followed by a flyby of the near-Earth 
asteroid Geographos (1994-08-31). An onboard software error, 
combined with improbable hardware conditions, on 1994-05-07 led to 
accidental spin-up of the spacecraft and loss of attitude control 
gas. This precluded the flyby of Geographos. The spacecraft itself 
was affectionately known as Clementine since, as in the song of the 
same name, it would be 'lost and gone forever' after completing its 
short mission.

Clementine's primary objective was qualification of light weight 
imaging sensors and component technologies (including a star 
tracker, inertial measurement unit, reaction wheel, nickel hydrogen 
battery, and solar panel) for the next generation of Department of 
Defense spacecraft. DSPSE represented a new class of small, low 
cost, and highly capable spacecraft that fully embraced emerging 
lightweight technologies to enable a series of long-duration deep 
space missions. A second objective was the return of data about the 
Moon and Geographos to the international civilian scientific 
community. For more information on the Clementine Mission refer to 
the 'mission.cat' file located in the 'catalog' directory.

The Basemap mosaic was created using the Clementine EDR Image 
Archive [Eliason, et al., 1995] produced by the Clementine mission. 
The EDR (Engineering Data Record) data are raw images and they 
contain the inherent properties of unprocessed and uncorrected 
data. The Clementine EDR Image Archive contains more than 1.9 
million images acquired during active mission operations. For 
information on how to obtain this archive contact the PDS Imaging 
Node or visit their world wide web site at the URL: 
http://pdsimage.jpl.nasa.gov/PDS.




ULTRAVIOLET/VISIBLE CAMERA (UVVIS)
==================================

The Ultraviolet/Visible Camera (UVVIS) [Kordas, et al., 1995] has a 
catadioptic telescope using fused silica lenses focused onto a 
metachrome-coated charge couple device (CCD) imager. Active 
wavelength response is limited on the short wavelength end by the 
transmission of fused silica and the optical blur of the lens. 
Wavelength response on the long end is limited by the response of 
the CCD. Six spectral bands can be selected from a filter wheel 
assembly allowing observations in the 415, 750, 900, 950, 1000nm 
wavelengths. An additional broad band filter was available on the 
filter wheel. For more information on the UVVIS camera refer to the 
'uvviscat.cat' file in the 'catalog' directory.


LUNAR ORBIT SUMMARY
===================

The Clementine spacecraft maintained a polar orbit during the 
systematic mapping of the surface of the Moon. Mapping of virtually 
100% of the lunar surface was done in two lunar days (two Earth 
months). In order to obtain full coverage during these two months, 
the required image overlap for the UVVIS and NIR cameras was ~15% 
in the down track and ~10% in the cross track directions. This 
required that the inclination of the orbit at 90 degrees plus-or-
minus 1 degree with reference to the lunar equator and that the 
periselene of the lunar orbit be maintained at an altitude of 425 
plus-or-minus 25 km. To provide the necessary cross-track 
separation for the alternating imaging strips to cover the entire 
surface of the moon, the orbital period was approximately 5 hours, 
during which the moon rotated approximately 2.7 degrees beneath the 
spacecraft. Images were taken and recorded only in the region of 
periselene, leaving sufficient time to replay the data to Earth.

The best data for lunar mineral mapping is obtained if the solar 
phase angle is less than 30 degrees. The solar phase angle is 
defined as the angle between the vector to the Sun and the vector 
to the spacecraft from a point on the Moon's surface. To maximize 
the time period in which the solar phase angle is less than 30 
degrees the plane of the lunar orbit should contain the Moon-Sun 
line half way through the two-month lunar mapping period. 
Therefore, insertion into the lunar orbit was selected so that, as 
the Moon-Sun line changes with Earth's motion about the Sun, the 
Moon-Sun line will initially close on the orbital plane, and then 
lie in the orbital plane half-way through the mapping mission. The 
angle between the Moon-Sun line and the orbital plane was close 
(less than 5 degrees) for approximately five weeks before becoming 
zero. The table shown below contains a list of Clementine's orbital 
parameters. For more information on the Lunar orbit refer to the 
'mission.cat' file located in the 'catalog' directory.




                     Clementine Orbital Parameters
      ===========================================================
      Orbital Period:        4.970 hr < P < 5.003 hr
      Altitude of Periselene:401 km < radius < 451 km
      Eccentricity:          0.35821 < e < 0.37567
      Right Ascension:       -3 deg < Omega < +3deg(referred J2000)
      Inclination:            89 deg < i < 91 deg
      Argument of Periselene: -28.4 deg < w < -27.9 deg (1st month)
                               29.6 deg < w < 29.2 deg (2nd month)


GEOMETRIC ACCURACY
==================

The Clementine Basemap Mosaic is the result of an exhaustive Lunar 
cartography project based on data processing of the Clementine EDR 
image collection. Systematic calibration and processing enable 
global, full-resolution scientific analysis of the Clementine 
Datasets. The basemap mosaic significantly improves the geometric 
control of the moon from previous maps and ground control points. 
Based on best effort measurements of the spacecraft orbit and 
pointing, UVVIS geometric distortions, and time tags for each 
observation, the SPICE [Acton, 1996] data alone provides positional 
accuracy better than 1 kilometer over most of the Moon. With 
residuals primarily small random pointing errors, then the accuracy 
approaching the UVVIS scale becomes achievable.

The goal of the basemap is for 95% of the Moon (excluding the 
oblique observation gap fills) to be better than 0.5 km/pixel 
absolute positional accuracy and to adjust the camera angles so 
that all frames match neighboring frames to within an accuracy of 2 
pixels. To achieve these goals we required camera alignment and 
pointing data accurate to a few hundredths of a degree. We 
determined the absolute alignment of the UVVIS with respect to 
spacecraft-fixed axes (A and B Star Tracker Camera quaternions) by 
analyzing a major subset of the over 17,000 images of Vega, over 
6,000 images of the Southern Cross and a few hundred images of the 
Pleiades, taken during the approach to the Moon and throughout the 
lunar mapping mission phase. Multiple star images within a single 
picture were used to determine the UVVIS focal length and optical 
distortion parameter values.

Approximately 265,000 match points were collected at the USGS from 
~43,000 UVVIS images providing global coverage. About 80% of these 
points were collected via autonomous procedures, whereas the 20% 
required the more time consuming but highly accurate pattern-
recognition capability of the human eye-brain. We also developed 
streamlined procedures for the supervised collection of match 
points. The new procedures saved several person-years of effort and 
represents new capabilities useful with other planetary datasets. 
The automated success rate exceeded 90% along each spacecraft orbit 
track, where the overlap regions of successive images are highly 
correlated, but failed when the overlap regions is narrow and/or 
nearly featureless. ('Failure' is defined as less than 3 points per 
image with correlation coefficients grater than 0.85; thus, many 
good match points were rejected because we could not be certain 
that the matches were valid without verification.) Across-track 
matching was more difficult due to changes in scale and 
illumination angle, but a fair success rate (~60%) was nevertheless 
achieved via the use of 'window-shaping' (local geometric 
reprojections). The oblique gap-fill images were the most difficult 
to match, and required substantial human intervention. Matching the 
polar regions was time-consuming because each frame overlaps many 
other frames. Most match points were found to a precision of 0.2 
pixels. 

 The USGS match points were sent to RAND corporation for analytical 
triangulations. Using these match points, control points from the 
Apollo region, and the latest NAIF/SPICE information, RAND 
determined improved camera orientation angles for the global set of 
UVVIS images. A constant lunar radius of 1737.4 kilometers was 
assumed, a significant source of error near the oblique gap fills. 
The analytical triangulation is a least-squares formulation 
designed to adjust the latitude and longitude of the control points 
and the camera orientation angles to best fit the match points. The 
triangulation was first computed on 'packets' of match points (each 
covering ~1/8-th of the Moon), then checked and rechecked at the 
USGS via plots and test mosaics to fix and add match points as 
needed. The final (global) analytical triangulation required 
solving ~660,000 normal equations. The mean error is less than 1 
pixel. This is by far the largest analytical triangulation ever 
applied to a planetary body other than Earth. The results fully 
define the planimetric geometry of the basemap, to which future 
systematic products will be tied.


RADIOMETRIC UNITS
=================

The Clementine basemap mosaic was assembled from the 750 nanometer 
(filter "B") imaging. The 900 nanometer (filter "C") imaging 
(normalized to match the 750 band) was used to fill gaps where 
there was missing 750 coverage. Photometric processing normalized 
data to an emission angle of zero degrees and a solar illumination 
angle of 30 degrees. Radiometric normalization coefficients for 
Clementine imaging were developed by Dr. Carle Peters (Brown 
University) based on laboratory spectra from Apollo 16 landing site 
soils returned to Earth. The Clementine EDR frame 'lub1845i.295' 
was used to define the radiometric normalization coefficients for 
the 750nm data. The image sub-area: 51-61 (sample) x 86-117 (line) 
relative to the upper left pixel addressed at 0,0 was selected as 
the control area assuming the soils were representative of the 
returned Apollo 16 landing site soils. For the spectral range of 
the 750 nanometer filter, laboratory observations gave .1868 
fractional reflectance (18.68% reflectance at 30 degrees 
illumination, 0 degrees emission). To convert from 
counts/millisecond (Rraw column in table below) normalized to 30 
degrees incidence and 0 degrees emission (Rclem) to fractional 
reflectance (Rlab) the coefficient (AvgCr(l)) is applied. The table 
shown below lists the normalization coefficients (AvgCr(l)) of each 
UVVIS filter . The AVGCr(l) coefficients convert counts/millisecond 
camera output to fractional reflectance. 





              Photometric Angles
Filter   Frame  EM   IN    PH Rraw Cphot Rclem Rlab  Cr(l) AvgCr(l)
-------------------------------------------------------------------
A lua1850i.295 2.34 26.79 28.62  5.60 0.960  5.378 .114 .0213
A lua1851i.295 2.36 26.79 28.61  5.56 0.960  5.338 .114 .0214 .0214

B lub1845i.295 2.28 26.79 28.67 15.84 0.961 15.230 .187 .0122
B lub1846i.295 2.29 26.79 28.66 15.84 0.961 15.227 .187 .0122 .0122

C luc1842i.295 2.24 26.79 28.72 19.42 0.962 18.686 .199 .0106
C luc1843i.295 2.25 26.79 28.71 19.47 0.962 18.733 .199 .0106 .0106

D lud1838i.295 2.20 26.79 28.78 19.55 0.963 18.830 .204 .0108
D lud1839i.295 2.21 26.79 28.77 19.58 0.963 18.859 .204 .0108 .0108

E lue1835i.295 2.18 26.79 28.82  9.02 0.964  8.698 .210 .0242
E lue1836i.295 2.19 26.79 28.81  9.00 0.964  8.681 .210 .0242 .0242

To convert the 16-bit integer values found in the image arrays of 
the basemap mosaic to fractional reflectance an offset and scaling 
factor need to be applied as shown: 
 
        FRACTIONAL_REFLECTANCE = (SCALING_FACTOR * DN) + OFFSET
        where: DN = 16-bit pixel value of basemap image array.
               SCALING_FACTOR = 1.2028247E-04
               OFFSET = -9.0128981E-04


DATA PROCESSING
===============

The Integrated Software for Imaging Spectrometers (ISIS) processing 
system, developed by the U.S. Geological Survey, was used to 
generate the basemap mosaic. Processing within ISIS includes 
radiometric and geometric correction, spectral registration, 
photometric normalization, and image mosaicking. Radiometric 
correction applies 'flat fielding', dark current subtraction, non-
linearity correction, and conversion to radiometric units. 
Geometric transformations tie each raw image with a ground control 
network and convert from raw image coordinates to the Sinusoidal 
Equal-Area projection. Photometric normalization is applied to 
balance brightness variations due to illumination differences among 
the images in a mosaic. Images are then mosaicked together to form 
a global map of continuous image coverage for the entire planet. 

The basemap mosaic was processed in five stages or "levels." All 
corrections made during these stages have some degree of 
uncertainty; the processing sequence was designed to process from 
corrections with highest probability of accuracy to those with the 
lowest. The first level of processing, level 0, prepares the data 
for processing by ISIS. The raw images are converted to ISIS format 
and ancillary data such as viewing geometry are added to the labels 
of the image file. Level 1 processing applies radiometric 
corrections and removes artifacts from the image. Level 2 performs 
geometric processing to remove optical distortions and to convert 
the image geometry to a standard map projection. Level 3 performs 
photometric processing for normalizing the sun-viewing geometry of 
an image scene. Level 4 performs mosaicking of individual images to 
create global or regional views for the planet surface.

Level 0 
-------
The Level 0 processing step prepares the raw image data and 
associated meta-data for processing by the ISIS system. Level 0 
processing consists of two program steps. The first step reads the 
format of the raw image and converts it to an ISIS file. 
Additionally this step will extract the meta-data from the input 
image labels for inclusion into the ISIS label. The meta-data may 
contain information such as the instrument operating modes, 
temperature of the camera focal plane, UTC time of observation, and 
other information necessary to rectify an image. The second step 
extracts navigation and pointing data ("SPICE" kernel data) for 
inclusion into the ISIS file.

Level 1
-------
The next level of processing, Level 1, performs radiometric 
correction and data clean-up on an image. Level 1 consists of a 
series of programs to correct or remove image artifacts such as 1) 
camera shading inherent in imaging systems, 2) artifacts caused by 
minute dust specks located in the optical path, 3) microphonic 
noise introduced by operation of other instruments on the 
spacecraft during image observations, and 4) data drop-outs and 
spikes due to missing or bad data from malfunctioning detectors or 
missing telemetry data. Level 1 processing results in an "ideal" 
image that would have been recorded by a camera system with perfect 
radiometric properties (although in practice residual artifacts and 
camera shading remain). The density number (DN) values of a 
radiometrically corrected image are proportional to the brightness 
of the scene. 

Level 2
-------
Producing the Clementine Basemap Mosaic required geometric 
processing to be performed on the individual images that make up 
the basemap. The individual images are geometrically transformed 
from spacecraft camera orientation to a common map coordinate 
system of a specific resolution. Before geometric transformation, 
images must first be geometrically "matched" to each other to 
establish relative geometric control among the images and then the 
image set must be "tied" to a ground control net to establish 
absolute ground truth. The process of matching images and tying the 
image set to ground truth minimizes the spatial misregistration 
along image boundaries.

Level 2 performs geometric processing which includes correcting 
camera distortions as well as transformation from image coordinates 
to map coordinates. All geometric transformations are made 
simultaneously so that an image is resampled only once and 
resolution loss is minimal. The image transformation is based on 
the original viewing geometry of the observation (including the 
optical distortion model of the camera), relative position of the 
target, and the mathematical definition of the map projection.

Level 3
-------
Photometric normalization is applied to images that make up the 
basemap in order to balance the brightness levels among the images 
that were acquired under different lighting conditions. To 
illustrate, consider two images of the same area on the planet 
where one image was acquired with the sun directly overhead and the 
second with the sun lower to the horizon. The image with the higher 
sun angle would be significantly brighter than the image with the 
low sun angle. Photometric normalization of the two images would 
cause them to be adjusted to the same brightness level. 

Radiometrically calibrated spacecraft images measure the brightness 
of a scene under specific angles of illumination, emission, and 
phase. For an object without an optically significant atmosphere, 
this brightness is controlled by two basic classes of information: 
1) the intrinsic properties of the surface materials, including 
composition, grain size, roughness, and porosity; and 2) variations 
in brightness due to the local topography of the surface. 
Photometric normalization is effective only to the extent that all 
geometric parameters can be modeled. The local topography is not 
included in the model (i.e. the planetary surface is thought of as 
a smooth sphere). However, illumination geometry at each pixel 
certainly depends on local topography; unless the topographic slope 
within a pixel is accurately known and compensated, the photometric 
correction cannot be perfect.

Level 4
-------
Compilation of an accurate digital mosaic of the individual images 
is the final stage in the construction of the basemap. The basemap 
is created by first generating a blank (or null) image that 
represents the regional or global image map of the Moon. The 
individual images are then mosaicked into the initially blank image 
map. The order in which individual images are placed into the 
mosaic is an important consideration. Because images are mosaicked 
one on top of the other, images that get laid down first are 
overwritten in the area of overlap with subsequent images that are 
added to the mosaic. It is preferable to first lay down images that 
have the lowest data quality or resolution followed by images with 
highest quality. In this way the areas of image overlap contain the 
highest quality images.


FILES, DIRECTORIES, AND DISK CONTENTS
=====================================

The files on CD volume set are organized starting at the root or 
'parent' directory. Below the parent directory is a directory tree 
containing data, documentation, and index files. In the table below 
directory names are indicated by brackets (<...>), upper-case 
letters indicate an actual directory or file name, and lower-case 
letters indicate the general form of a set of directory or file 
names.


DIRECTORY/FILE          CONTENTS
-------------------     ------------------------------------------

<root>
|
|-AAREADME.TXT          The file you are reading (ASCII Text).
|
|
|-INDEX.HTM             Hypertext Markup Language(HTML) file 
|                       as a user interface to files on this CD.
|
|-ERRATA.TXT            Description of known anomalies and errors
|                       present on the volume set(optional file).
|
|-VOLDESC.CAT           A description of the contents of this
|                       CD volume in a format readable by
|                       both humans and computers.
|
|-<CATALOG>             Catalog Directory
|  |
|  |-CATINFO.TXT        Describes Contents of the Catalog directory
|  |
|  |-DATASET.CAT        Clementine Basemap Mosaic description
|  |
|  |-DSMAP.CAT          Map Projection description
|  |
|  |-INSTHOST.CAT       Clementine Spacecraft description
|  |
|  |-MISSION.CAT        Clementine Mission description
|  |
|  |-PERSON.CAT         Contributors to Clementine Basemap
|  |
|  |-REFS.CAT           References for Clementine Basemap
|  |
|  |-UVISCAT.CAT        UVVIS Camera description
|
|-<DOCUMENT>            Documentation Directory. The files in this
|  |                    directory provide detailed information
|  |                    regarding the Clementine Basemap Mosaic.
|  |
|  |-DOCINFO.TXT        Description of files in the DOCUMENT
|  |                    directory.
|  |
|  |-VOLINFO.TXT        Documentation regarding the
|  |                    contents of this CD Volume Set.
|  |
|  |-VOLINFO.DOC        Microsoft Word V6.0A version of VOLINFO.TXT
|  |
|  |-VOLINFO.PDF        Adobe-Acrobat Portable Format (PDF)
|  |                    version of VOLINFO.TXT
|  |
|  |-VOLINFO.HTM        HTML document for VOLINFO.TXT
|  |
|  |-VOLINFO.LBL        PDS Label file describing the VOLINFO
|  |                    documents.
|
|-<INDEX>               Directory for the image index files.
|  |
|  |-INDXINFO.TXT       Description of files in <INDEX> directory.
|  |
|  |-IMGINDX.TAB        Image Index table.
|  |
|  |-IMGINDX.LBL        PDS label for IMGINDX.TAB.
|  |
|  |-SRCINDX.TAB        Table of source images used in the
|  |                    production of the Clementine Basemap.
|  |
|  |-SRCINDX.LBL        PDS Label for SRCINDX.LBL
|
|
|-<tssl_nly>            Data directory name where;
|  |
|  |                            (For this Basemap CD Volume Set)
|  |                        t = B (Clementine Basemap Mosaic)
|  |                          = E (Emission angle backplane)
|  |                          = I (Incidence angle backplane)
|  |                          = P (Phase angle backplane)
|  |
|  |                            (For future CD Volumes)
|  |                          = U (UVVIS Cube)
|  |                          = N (NIR Cube)
|  |                          = L (LWIR Image Data)
|  |                          = H (Hi-res Image Data)
|  |
|  |                        s = (Resolution - km/pixel)
|  |                          = A   (.004 km/pixel-future mapping)
|  |                          = B-D (For future mapping as needed)
|  |                          = E   (.02 km/pixel - future mapping)
|  |                          = F-H (For future mapping as needed)
|  |                          = I   (.1 km/pixel)
|  |                          = J   (.15 km/pixel)
|  |                          = K-L (For future mapping as needed)
|  |                          = M   (.5 km/pixel)
|  |                          = N-P (For future mapping as needed)
|  |                          = Q   (2.5 km/pixel)
|  |                          = R-T (For future mapping as needed)
|  |                          = U   (12.5 km/pixel)
|  |                          = V-Z (For future mapping as needed)
|  |
|  |                        sl = Southernmost Latitude
|  |                        nl = Northernmost Latitude
|  |
|  |                        y = N (Positive latitude)
|  |                          = S (Negative latitude)
|  |                          = <none> (Not used for full latitude
|  |                                    coverage. i.e. -90 to 90)
|  |
|  |                    The following data directories exist on
|  |                    Volume 1
|  |                    <BI70_90N> <POLAR>
|  |
|  |                    The following data directories exist on
|  |                    Volumes 2-13
|  |                    <BI70_35S> <BI35_00S> <BI00_35N> <BI35_70N>
|  |
|  |                    The following data directories exist on
|  |                    Volume 14
|  |                    <BI90_70S> <POLAR>
|  |
|  |                    The following data directories exist on
|  |                    Volume 15
|  |                    <BM90_90> <BQ90_90> <BU90_90> <EQ90_90>
|  |                    <IQ90_90> <PQ90_90> <POLAR>
|  |
|  |
|  |-<tsppymmm.xxx>     Data filenames where;
|
|                      t = (Same as directory description above)
|                      s = (Same as directory description above)
|                     pp = (00-90) Center latitude of Image File.
|                          (Two digit truncated integer)
|                      y = N (North Latitude)
|                          S (South Latitude)
|                    mmm = (000-360) Center longitude of Image.
|                          (Three digit truncated integer)
|                    xxx = IMG (PDS Labeled Image File)
|                        = LAB  (ISIS Detached Label File)
|                        = JPG (JPEG "small", "medium", and "large"
|                              Browse Images) <BROWSE> Directory 
|                              Tree only)
|                        = HTM (<BROWSE> Directory Tree only)
|
|-<POLAR>               Data directory for polar region
|  |                    Orthographic products.
|  |
|  |-<tsppymmm.xxx>     Data filenames as described above.
|
|
|-<BROWSE>              Directory tree containing "Browse" (reduced
|  |                    resolution) JPEG images for each image data
|  |                    product on the CD. The directory structure
|  |                    below <BROWSE> is identical to
|  |                    the Data directory structure at the <root>
|  |                    level with <SMALL>, <MEDIUM>, and <LARGE>
|  |                    directories added.
|  |
|  |-BROWINFO.TXT       Description of <BROWSE> content.
|  |
|  |-BRWSGRP.HTM        Graphics (map)-based HTML interface to CD
|  |                    data (Accessed by INDEX.HTM file).
|  |
|  |-BRWSTXT.HTM        Text (ASCII)-based HTML interface to CD
|  |                    data (Accessed by INDEX.HTM file).
|  |
|  |-<SMALL>
|  |-<MEDIUM>
|  |-<LARGE>            Directories containing "small", "medium",
                        and "large" sized JPEG images for each
                        product. These images are primarily used by
                        the HTML documents on the CD. The directory
                        structure below the <SMALL>, <MEDIUM>, and
                        <LARGE> directories are identical to the
                        directory structure at the <root> level.
                        "small" images are ~60x60 pixels
                        "medium" images are ~400x400 pixels
                        "large" images are ~1000x1000 pixels


IMAGE FILE ORGANIZATION
=======================

The image files are stored in a PDS compliant format. An Image file 
contains an label area (header) at the beginning of the file 
followed by the image data. The number of bytes of the label area 
is a multiple of the number of bytes that make up an image line 
(number of samples * 2 bytes/pixel). The image label area contains 
ASCII text data that contains information about the image file (see 
Image Labels section below). The label area can be viewed with a 
simple ASCII editor on most computer systems.

Pixel Storage Order
-------------------
The Clementine basemap mosaic is stored as image files with 16-bit 
signed integer pixels. The storage order of the pixels is "most 
significant byte order first". This is the storage order for 
UNIX/Sun and Macintosh systems. For other systems such as IBM-
compatible PC and VAX systems, the high and low order bytes of the 
pixels will need to be swapped before the data can be used.

Image Labels
------------
The label area of a image file contains descriptive information 
about the image. The label consists of keyword statements that 
conform to version 3 of the Object Description Language (ODL) 
developed by NASA's PDS project. There are three types of ODL 
statements within a label: structural statements, keyword 
assignment statements, and pointer statements.

Structural statements provide a shell around keyword assignment 
statements to delineate which data object the assignment statements 
are describing. The structural statements are: 
         1) OBJECT = object_name
         2) END_OBJECT
         3) END

The OBJECT statement begins the description of a particular data 
object and the END_OBJECT statement signals the end of the object's 
description. All keyword assignment statements between an OBJECT 
and its corresponding END_OBJECT statement describe the particular 
object named in the OBJECT statement. The END statement terminates 
a label. A keyword assignment statement contains the name of an 
attribute and the value of that attribute. Keyword assignment 
statements are described in more detail in Appendix B of this 
document. These statements have the following format:

         name = value

Values of keyword assignment statements can be numeric values, 
literals, and text strings.

Pointer statements are a special class of keyword assignment 
statements. These pointers are expressed in the ODL using the 
following notation:

         ^object_name = location

If the object is in the same file as the label, the location of the 
object is given as an integer representing the starting record 
number of the object, measured from the beginning of the file. The 
first label record in a file is record 1. Pointers are useful for 
describing the location of individual components of a data object. 
Pointer statements are also used for pointing to data or label 
information stored in separate files. An example of a detached 
label (i.e., label information stored in a separate file) is shown 
below: By convention, detached labels are found in the LABEL 
directory.

         ^STRUCTURE = 'logical_file_name'

The value of 'logical_file_name' is the name of the detached label 
file containing the description.

The keyword statements in the label are packed into the fixed-
length records that make up the keyword label area. Each keyword 
statement is terminated by a carriage-return and line-feed 
character sequence. An example of a Clementine Basemap image label 
is shown below. Descriptions of the keywords used in the basemap 
label are found in Appendix A.


          Example PDS Label for Clementine Basemap Image files
          ====================================================

PDS_VERSION_ID                 = PDS3

/*          FILE FORMAT AND LENGTH */

RECORD_TYPE                    = FIXED_LENGTH
RECORD_BYTES                   = 4140
FILE_RECORDS                   = 2128
LABEL_RECORDS                  = 1
INTERCHANGE_FORMAT             = BINARY

/*          POINTERS TO START RECORDS OF OBJECTS IN FILE */

^IMAGE                         = 2

/*          IMAGE DESCRIPTION */

DATA_SET_ID                    = "CLEM1-L-U-5-DIM-BASEMAP-V1.0"
PRODUCT_ID                     = "BI66N337"
PRODUCER_INSTITUTION_NAME      = "UNITED STATES GEOLOGICAL SURVEY"
PRODUCT_TYPE                   = MDIM
MISSION_NAME                   = "DEEP SPACE PROGRAM SCIENCE 
EXPERIMENT"
SPACECRAFT_NAME                = "CLEMENTINE 1"
INSTRUMENT_NAME                = "ULTRAVIOLET/VISIBLE CAMERA"
INSTRUMENT_ID                  = "UVVIS"
TARGET_NAME                    = "MOON"
FILTER_NAME                    = "B"
CENTER_FILTER_WAVELENGTH       = 750.0000
BANDWIDTH                      = 10.0000
START_TIME                     = "N/A"
STOP_TIME                      = "N/A"
SPACECRAFT_CLOCK_START_COUNT   = "N/A"
SPACECRAFT_CLOCK_STOP_COUNT    = "N/A"
PRODUCT_CREATION_TIME          = 1997-06-09T12:56:11
NOTE                           = "LUNAR BASEMAP MOSAIC"

/*          DESCRIPTION OF OBJECTS CONTAINED IN FILE */

OBJECT                         = IMAGE
  BANDS                        = 1
  BAND_STORAGE_TYPE            = BAND_SEQUENTIAL
  BAND_NAME                    = "N/A"
  LINES                        = 2127
  LINE_SAMPLES                 = 2070
  SAMPLE_TYPE                  = MSB_INTEGER
  SAMPLE_BITS                  = 16
  SAMPLE_BIT_MASK              = 2#1111111111111111#
  OFFSET                       = -9.0128981E-04
  SCALING_FACTOR               = 1.2028247E-04
  VALID_MINIMUM                = -32752
  NULL                         = -32768
  LOW_REPR_SATURATION          = -32767
  LOW_INSTR_SATURATION         = -32766
  HIGH_INSTR_SATURATION        = -32765
  HIGH_REPR_SATURATION         = -32764
  MINIMUM                      = 430
  MAXIMUM                      = 6137
  CHECKSUM                     = 593477699
END_OBJECT                     = IMAGE

OBJECT                         = IMAGE_MAP_PROJECTION
  ^DATA_SET_MAP_PROJECTION     = "DSMAP.CAT"
  COORDINATE_SYSTEM_TYPE       = "BODY-FIXED ROTATING"
  COORDINATE_SYSTEM_NAME       = "PLANETOGRAPHIC"
  MAP_PROJECTION_TYPE          = "SINUSOIDAL"
  MAP_RESOLUTION               = 303.2334900
  MAP_SCALE                    = 0.1000000
  MAXIMUM_LATITUDE             = 70.0000000
  MINIMUM_LATITUDE             = 62.9868011
  EASTERNMOST_LONGITUDE        = 345.0291138
  WESTERNMOST_LONGITUDE        = 330.0000000
  LINE_PROJECTION_OFFSET       = 21227.3452970
  SAMPLE_PROJECTION_OFFSET     = 2066.9105015
  A_AXIS_RADIUS                = 1737.4000000
  B_AXIS_RADIUS                = 1737.4000000
  C_AXIS_RADIUS                = 1737.4000000
  FIRST_STANDARD_PARALLEL      = "N/A"
  SECOND_STANDARD_PARALLEL     = "N/A"
  POSITIVE_LONGITUDE_DIRECTION = EAST
  CENTER_LATITUDE              = 0.0
  CENTER_LONGITUDE             = 345.0000000
  REFERENCE_LATITUDE           = "N/A"
  REFERENCE_LONGITUDE          = "N/A"
  LINE_FIRST_PIXEL             = 1
  SAMPLE_FIRST_PIXEL           = 1
  LINE_LAST_PIXEL              = 2127
  SAMPLE_LAST_PIXEL            = 2070
  MAP_PROJECTION_ROTATION      = 0.0000000
  VERTICAL_FRAMELET_OFFSET     = "N/A"
  HORIZONTAL_FRAMELET_OFFSET   = "N/A"
END_OBJECT                     = IMAGE_MAP_PROJECTION
END


INDEX FILES
===========

Each CD volume in the Clementine basemap mosaic contains an image 
index file ('imgindx.tab') with catalog information about the 
entire basemap. The image index file and it's associated PDS label 
file ('imgindx.lbl') are located in the 'index' directory. The 
catalog information in the index table includes the file names, CD 
volumes, and mapping parameter information. An additional source 
file index table ('srcindx.tab' and corresponding PDS label 
'srcindx.lbl')contains information about the EDR image collection 
used to assemble the basemap. This file contains an entry for each 
EDR image that was used in the basemap. Information in this file 
includes the improved camera pointing data (c-matrix) derived from 
tying to the geometric control network established by the Rand 
Corporation. For more information on the contents of the index 
files refer to the label files.


ACKNOWLEDGEMENTS
================

The National Aeronautics and Space Administration is charged with 
the responsibility for coordination of a program of systematic 
exploration of the planets by U.S. spacecraft. To this end, it 
finances spaceflight missions and data analysis and research 
programs administered and performed by numerous institutions. The 
Geological Survey of the U.S. Department of the Interior is the 
agency that performs most of the mapping in support of NASA's 
program of planetary exploration and scientific research.

The Clementine Basemap Mosaic was compiled for the National 
Aeronautics and Space Administration (NASA) by the United States 
Geological Survey (USGS) under the direction of Dr. Alfred S. 
McEwen, principal Investigator (now with the University of 
Arizona). Tammy Becker, Ella Lee, Kay Edwards (retired), and Dr. 
Mark Robinson (now with Northwestern University) comprised the USGS 
technical group responsible for its compilation. The Lunar 
Geometric Control network was derived by Mert Davies and Tim Colvin 
(both from the RAND Corporation). The design, layout, and 
production of the CDs were performed by Chris Isbell and Eric 
Eliason. Thanks to Kris Becker for the development of software 
tools for producing PDS compatible data sets.


REFERENCES
===========

Acton, C.H., Ancillary Data Services of NASA's Navigation and 
Ancillary Information Facility: Planetary and Space Sciences, Vol. 
44, No. 1, pp. 65-70, 1996.

Batson, R.M., Digital Cartography of the Planets: New Methods, its 
status, and its Future: Photogrammetric Engineering and Remote 
Sensing, Vol. 53, No. 9, p.1211-1281.

Batson, R.M., 1990, Cartography: in Greeley, Ronald, and Batson, 
eds. Planetary Mapping: New York, Cambridge University Press, pp. 
60-95.

Eliason, E.M., E.R. Malaret, and G. Woodward, Clementine Mission, 
The Archive of Image Data Products and Data Processing Capabilities 
(Abstract): Proceedings of the 26-th Lunar and Planetary 
Conference, pp. 369-370, 1995.

JPL, PDS Standards Reference: JPL Document D-7669, JPL , Pasadena, 
California, 1992.

Kordas, J.R., I.T. Lewis, R.E. Priest, W.T. White, D.P. Nielsen, H. 
Park, B.A. Wilson, M.J. Shannon, A.G. Ledebuhr, and L.D. Pleasance, 
UV/visible Camera for the Clementine Mission: Proceedings of the 
Society of Photo-optical Instrumentation Engineers (SPIE), 2478, 
pp. 175-186, 1995.

Nozette, S., P. Rustan, L.P. Pleasance, D.M. Horan, P. Regeon, E.M. 
Shoemaker, P.D. Spudis, C.H. Acton, D.N. Baker, J.E. Blamont, B.J. 
Buratti, M.P. Corson, M.E. Davies, T.C. Duxbury, E.M. Eliason, B.M. 
Jakosky, J.F. Kordas, I.T. Lewis, C.L. Lichtenberg, P.G. Lucey, E. 
Malaret, M.A. Massie, J.H. Resnick, C.J. Rollins, H.S. Park, A.S. 
McEwen, R.E. Priest, C.M. Pieters, R.A. Reisse, M.S. Robinson, D.E. 
Smith, T.C. Sorenson, R.W. Vorder Breugge, and M.T. Zuber; The 
Clementine Mission to the Moon: Scientific Overview: Science, 266, 
1835-1839, 1994.

Snyder, J.P, Map Projections Used by the U.S. Geological Survey: 
Geological Survey Bulletin 1532, U.S. Government Printing Office, 
Washington D.C., 313 p.







APPENDIX A - KEYWORD ASSIGNMENTS
================================

This section defines the keywords used in the image label area of 
the Clementine basemap mosaic.

PDS_VERSION_ID                 = PDS3
This dataset conforms to version 3 of the PDS standards.

RECORD_TYPE                    = FIXED_LENGTH
This keyword defines the record structure of the file as fixed-
length record files.

RECORD_BYTES                   = xxxx
Record length in bytes for fixed-length records (number of samples 
*2)

FILE_RECORDS                   = xxxx
Total number of fixed-length records contained in the file

LABEL_RECORDS                  = x
Number of fixed-length label records in the file

INTERCHANGE_FORMAT             = BINARY
Data are organized as BINARY values

^IMAGE                         = x
Pointer to the first record that contains image data. (The first 
record in the file is designated as record 1.)

DATA_SET_ID                    = "CLEM1-L-U-5-DIM-BASEMAP-V1.0"
The PDS defined data set identifier for the Clementine basemap 
mosaic

PRODUCT_ID                     = "BI66N337"
Unique product identifier for this image file. This value is the 
same
as the file name. (Format described in the "FILES, DIRECTORIES, AND 
DISK CONTENTS" section above.) 

PRODUCER_INSTITUTION_NAME      = "UNITED STATES GEOLOGICAL SURVEY"
Identifies the producer organization of this data product.

PRODUCT_TYPE                   = MDIM
This keyword identifies the image product as a Mosaicked Digital 
Image Model (MDIM).

MISSION_NAME                   = "DEEP SPACE PROGRAM SCIENCE 
EXPERIMENT"
The keyword identifies the product name of the mission. (This is 
the
official name of the Clementine Mission.)

SPACECRAFT_NAME                = "CLEMENTINE 1"
Name of the spacecraft that acquired the data.

INSTRUMENT_NAME                = "ULTRAVIOLET/VISIBLE CAMERA"
Name of the instrument that acquired the image data.

INSTRUMENT_ID                  = "UVVIS"
Abbreviated name of the instrument that acquired the image data.

TARGET_NAME                    = "MOON"
Target of the data product.

FILTER_NAME                    = "B"
Virtually all images that make up the Clementine base map mosaic 
were acquired using the filter "B". Filter "C" images were used 
when filter "B" data were not available.

CENTER_FILTER_WAVELENGTH       = 750.0000
The center filter wavelength of filter "B" is 750 nanometers.

BANDWIDTH                      = 10.0000
The bandwidth of the filter "B" is 10 nanometers.

START_TIME                     = "N/A"
STOP_TIME                      = "N/A"
SPACECRAFT_CLOCK_START_COUNT   = "N/A"
SPACECRAFT_CLOCK_STOP_COUNT    = "N/A"
Start_Time, Stop_Time, and clock counts are not applicable (N/A) 
for this data product but are required keywords.

PRODUCT_CREATION_TIME          = 1997-06-09T12:56:11
Time at which the image product was produced.

NOTE                           = "LUNAR BASEMAP MOSAIC"
Note field always says LUNAR BASEMAP MOSAIC.

OBJECT                         = IMAGE
BANDS                        = 1
There is only one spectral band in the basemap mosaic.

BAND_STORAGE_TYPE            = BAND_SEQUENTIAL
Storage order is band sequential

BAND_NAME                    = "N/A"
Band name keyword is not applicable.

LINES                        = xxxx
Number of lines (rows) in image array

LINE_SAMPLES                 = xxxx
Number of samples (columns) in image array.

SAMPLE_TYPE                  = MSB_INTEGER
Data are stored in "Most Significant Byte" order first format. This 
is the storage order of Sun workstations and Macintosh computers. 
Other systems, such as IBM/PC compatible computes and DEC/VAX 
systems will need to reverse the byte order of the 16-bit pixels 
before the data can be used.


SAMPLE_BITS                  = 16
There are 16 bits per sample (2 bytes)

SAMPLE_BIT_MASK              = 2#1111111111111111#
This keyword indicates all bits within a 16-bit word are used in 
the expression of the value.

OFFSET                       = -9.0128981E-04
SCALING_FACTOR               = 1.2028247E-04
The OFFSET and SCALING_FACTOR keywords contain values used to 
convert the 16-bit integer pixel value to radiometric units. 

FRACTIONAL_REFLECTANCE = (PIXEL* SCALING_FACTOR) + OFFSET

VALID_MINIMUM                = -32752
Lowest valid value that can be stored in pixel (always -32752).

NULL                         = -32768
Value of empty pixels or missing data (always -32768).

LOW_REPR_SATURATION          = -32767
Value of pixel if processing caused a low-end value pixel to go 
outside  dynamic range of a 16-bit signed integer (always -32767).

LOW_INSTR_SATURATION         = -32766
Value if pixel was low-end saturated (always -32766). For example, 
if the bias of the camera was set so that low DN values could not 
be stored in the pixel.

HIGH_INSTR_SATURATION        = -32765
Value of pixel if processing caused a high-end value pixel to go 
outside dynamic range of a 16-bit signed integer (always -32765).

HIGH_REPR_SATURATION         = -32764
Value if pixel was high-end saturated (always -32764). For example, 
if the scene was too bright for the image to record at the pixel 
value became saturated.

MINIMUM                      = xxxx
Minimum value in image array.

MAXIMUM                      = xxxx
Maximum value in image array.

CHECKSUM                     = xxxxxxxx
Sum of all bytes in the image object. Used to validate that an 
image
file was properly stored on the media.

END_OBJECT                     = IMAGE

OBJECT                         = IMAGE_MAP_PROJECTION
^DATA_SET_MAP_PROJECTION     = "DSMAP.CAT"
Name of file containing additional information about the map 
projection.
DSMAP.CAT is located in the 'catalog' directory.

COORDINATE_SYSTEM_TYPE       = "BODY-FIXED ROTATING"
COORDINATE_SYSTEM_NAME       = "PLANETOGRAPHIC"
Coordinate system used in the map projection.

MAP_PROJECTION_TYPE          = "SINUSOIDAL"
Name of map projection. 

MAP_RESOLUTION               = xxx.xxxxx
Map resolution (pixels per degree) at the reference point of the 
projection.

MAP_SCALE                    = x.xxxxxx
Map scale (kilometers per pixel) at the reference point of the 
projection.

MAXIMUM_LATITUDE             = xx.xxxxxxx
Maximum latitude of the image file

MINIMUM_LATITUDE             = xx.xxxxxxx
Minimum latitude of the image file.

EASTERNMOST_LONGITUDE        = xxx.xxxxxxx
Easternmost longitude of the image file.

WESTERNMOST_LONGITUDE        = xxx.xxxxxxx
Westernmost longitude of the image file

LINE_PROJECTION_OFFSET       = xxxxx.xxxxxxx
SAMPLE_PROJECTION_OFFSET     = xxxxx.xxxxxxx
Projection offsets are used to define the relationship between line 
and sample of the image array and the latitude and longitude 
coordinate on the surface of the planet. See 'dsmap.cat' file 
located in the 'catalog' directory for information on these 
keywords.

A_AXIS_RADIUS                = 1737.4000000
B_AXIS_RADIUS                = 1737.4000000
C_AXIS_RADIUS                = 1737.4000000
Three axis radius of the Moon used in the derivation of the map 
products that make up the basemap mosaic.

FIRST_STANDARD_PARALLEL      = "N/A"
SECOND_STANDARD_PARALLEL     = "N/A"
Standard parallels of map, not used in this sinusoidal equal-area 
projection.

POSITIVE_LONGITUDE_DIRECTION = EAST
The Moon coordinate system uses a positive longitude direction of 
east. Longitude values increase in the eastern direction.

CENTER_LATITUDE              = 0.0
Center latitude of the map projection.

CENTER_LONGITUDE             = xxxx.xxxx
Center longitude of the map projection.

REFERENCE_LATITUDE           = "N/A"
REFERENCE_LONGITUDE          = "N/A"
Reference latitude and longitudes are not used in the sinusoidal 
equal-area projection.

LINE_FIRST_PIXEL             = 1
SAMPLE_FIRST_PIXEL           = 1
The first pixel (upper left) in the image array is defined as line 
1, sample 1.

LINE_LAST_PIXEL              = xxxx
SAMPLE_LAST_PIXEL            = xxxx
The last pixel (lower right) in the image arrays is defined by 
these keywords.

MAP_PROJECTION_ROTATION      = 0.0000000
Map projection rotation always 0 for the Clementine Basemap Mosaic.

VERTICAL_FRAMELET_OFFSET     = "N/A"
HORIZONTAL_FRAMELET_OFFSET   = "N/A"
These keywords are not applicable for the sinusoidal equal-area 
projection.

END_OBJECT                     = IMAGE_MAP_PROJECTION
END




APPENDIX B - GEOMETRIC DEFINITION OF A PIXEL
============================================

The purpose here is to describe the spatial or geometric definition 
of a pixel used in the generation and utilization of the digital 
image products. A broad range of factors enters into this question. 
For example, is a pixel to be conceived of as a point or as an 
area? The point definition would be most convenient, for instance, 
when dealing with coordinate grid overlays. This results in an odd 
number of pixels across a map that has an even number of spatial 
increments. For changing scales (for instance by even powers of 2) 
this definition becomes a problem. In this case it makes more sense 
to treat a pixel as a finite area. Then an even number of pixels 
covers an even number of spatial increments and 
decreasing/increasing scales by a power of 2 becomes trivial. 
However, grids now fall between pixels, at least in a mathematical 
sense. Their treatment in the generation of hardcopy therefore 
becomes an issue. 

It was decided that the area concept of a pixel was the better 
choice; we would have to live with the asymmetries introduced in 
things like cartographic grids. There are various solutions: (1) 
use two pixels for the width of a grid line, (2) stagger grid 
pixels back-and-forth across the mathematical position, (3) use a 
convention whereby grid lines are systematically drawn offset from 
their mathematical position. 

The next issue is the conversion between integer coordinates and 
real coordinates of the pixel mesh. We adopt the convention that 
pixels are numbered (or named if you like) beginning in the upper 
left corner with line 1, sample 1 (pixel 1,1); lines increase 
downward; samples increase to the right. (Even this is not a 
universal standard; some astronomical systems begin, perhaps more 
logically, in the lower left corner.) There are three reasonable 
possibilities for aligning a real, or floating point, coordinate 
system with the pixel mesh: the coordinate 1.0, 1.0 could be the 
upper left, the center, or the lower right of pixel 1,1. The 
convention historically used for geometric calibration files 
(reseau positions) and also used in the Multimission Image 
Processing Laboratory at the Jet Propulsion Laboratory, is that the 
center of the pixel is defined as its location in real coordinates. 
In other words, the real coordinates of the center of pixel 1,1 are 
1.0, 1.0. The top left corner of the pixel is .5, .5 and the bottom 
right corner is 1.49999...,1.499999. The bottom and right edge of a 
pixel is the mathematically open boundary. This is the standard 
adopted in the image products.

Cartographic conventions must also be defined. The map projection 
representation of a pixel is mathematically open at the increasing 
(right and lower) boundaries, and mathematically closed at its left 
and upper boundaries. An exception occurs at the physical limits of 
the projection; the lower boundary of the lowest pixel is closed to 
include the limit of the projection (e. g. the south pole). The 
figure below shows the coordinates of Pixel 1,1.



              

                 
                          Coordinates of Pixel 1,1

                  longitude  180.0         179.00001
                              |               |
                  latitude    |               |   line
                     90.0  -- ----------------- -- .5
                              |               |
                              |               |
                              |               |
                              |               |
                              |       +       |
                              |   (1.0,1.0)   |
                              |               |
                              |               |
                              |               |
                  89.00001 -- ----------------- -- 1.49999
                              |               |
                              |               |
                     sample  .5            1.49999


Finally, we must select a convention for drawing grid lines for 
various cartographic coordinates on planetary images and maps. The 
convention used for the image products is that a grid line is drawn 
in the pixels that contain its floating point value until the open 
boundary is reached and then an exception is made so that the outer 
range of latitude and longitude will always appear on the image. 
This means, in the example given above, a 10 degree grid would 
start on pixel 1 and be drawn on every tenth pixel (11,21,31,...) 
until the open boundary is reached. Then the line would be drawn on 
the pixel previous to the open boundary (line 180 instead of line 
181, or sample 360 instead of 361).


To summarize, the conventions are:

1) Pixels are treated as areas, not as points.

2) The integer coordinates begin with 1,1 (read "line 1, sample 1") 
for the upper-left-most pixel; lines increase downward; samples 
increase to the right.

3) Integer and floating point image coordinates are the same at the 
center of a pixel.

4) Grids will be drawn in the pixels that contain the floating 
point location of the grid lines except for open boundaries, which 
will be drawn to the left or above the open boundary.
