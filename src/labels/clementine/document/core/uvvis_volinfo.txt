PDS_VERSION_ID      = PDS3
RECORD_TYPE         = STREAM
SPACECRAFT_NAME     = "CLEMENTINE 1"
TARGET_NAME         = "MOON"
OBJECT              = TEXT
 INTERCHANGE_FORMAT = ASCII
 PUBLICATION_DATE   = 1999-03-01
 NOTE               = "THE CLEMENTINE UVVIS GLOBAL LUNAR MOSAIC"
END_OBJECT          = TEXT
END










                       THE CLEMENTINE UVVIS GLOBAL LUNAR MOSAIC











                                    by



    Eric Eliason, Chris Isbell, Ella Lee, Tammy Becker, Lisa Gaddis
                       United States Geological Survey
                            Astrogeology Team
                         2255 North Gemini Drive
                            Flagstaff, AZ 86001


                               Alfred McEwen
                       Lunar and Planetary Laboratory
                            University of Arizona
                              Tucson, AZ 85721


                              Mark Robinson
                       Department of Geological Sciences
                           Northwestern University
                            Evanston, IL 60208



                               July 1, 1999






                                 CONTENTS


     1  -  INTRODUCTION
     2  -  CLEMENTINE MISSION
     3  -  ULTRAVIOLET/VISIBLE (UVVIS)CAMERA 
     4  -  LUNAR ORBIT SUMMARY
     5  -  GEOMETRIC ACCURACY
     6  -  DATA PROCESSING
     7  -  RADIOMETRIC CALIBRATION
     8  -  PHOTOMETRIC FUNCTION NORMALIZATION
     9  -  SECOND-ORDER RADIOMETRIC/PHOTOMETRIC CORRECTIONS
     10 -  COVERSION OF 16-BIT PIXEL VALUES TO FLOATING POINT
     11 -  FILES, DIRECTORIES, AND DISK CONTENTS
     12 -  IMAGE FILE ORGANIZATION
     13 -  INDEX FILES
     14 -  ACKNOWLEDGMENTS
     15 -  REFERENCES

     APPENDIX A - KEYWORD ASSIGNMENTS
     APPENDIX B - GEOMETRIC DEFINITION OF A PIXEL



1 - INTRODUCTION
================

The Clementine Ultraviolet/Visible (UVVIS) mosaic [Eliason et al., 
1999; Isbell et al., 1999; Robinson et al., 1999] of Earth's Moon 
is a radiometrically and geometrically controlled, photometrically 
modeled global Mosaicked Digital Image Model (DIM) [Batson, 1987; 
Batson, 1990] compiled using more than 400,000 images from multiple 
spectral observations of the Ultraviolet/Visible camera onboard the 
Clementine Spacecraft. The UVVIS mosaic is mapped in the Sinusoidal 
Equal-Area Projection [Snyder, J.P, 1987] at a resolution of 100 
meters per pixel and requires approximately 68 gigabytes of digital 
storage This database is partitioned into quadrangles (quads) or 
"tiles" equivalent to those of the previously released Clementine 
750 nanometer Basemap Mosaic (PDS volumes CL_3001 through CL_3015). 
This 100 m/pixel portion of the DIM is presented on 78 CD volumes. 
Tiles are stored as image files of approximately 2100 pixels on a 
side. Pixels are 16-bit signed integers. A phase angle image 
database, at equivalent resolution, accompanies the UVVIS DIM. 
Additional CD volumes will contain reduced-resolution planetwide 
coverage at 0.5, 2.5, and 12.5 km/pixels. A final ancillary volume 
will include additional information in support of the UVVIS DIM. 
This final volume will include an 'image source' index file and a 
'browse' interface for the entire UVVIS DIM CD collection.

Although the tiling scheme is equivalent to the original basemap, 
each 30-degree gore of the basemap is now divided into six sets of 
quadrangles such that each set completes a 650 megabyte CD volume. 
The full-resolution tiling and CD archive scheme is available in 
graphical form in the 'scheme.pdf' (Portable Document Format [PDF]) 
file found in the 'document' directory of each CD.

PDS standards require inclusion of "catalog" files that describe 
aspects of the mission, spacecraft, instrument, and dataset. These 
files are located in the 'catalog' directory of each CD volume. In 
order to minimize the amount of redundant information that exists 
in the documentation collection, we reference these files 
throughout this document. The catalog files, ending with the '.cat' 
extension, are organized as ASCII text files and contain PDS labels 
for automatically ingesting the documents into a catalog system. 

The CD volume set contains ancillary data files that support the 
UVVIS mosaic. These files include browse images stored in a 'JPEG' 
format, 'HTML' documents that support a web browser interface to 
the CDs, image index files that tabulate the contents of the CD 
volume set, and documentation files that describe the archive 
collection. For more information on the contents and organization 
of the CD volume set refer to the "Files, Directories, and Disk 
Contents" section of this document.

Using a web browser application (e.g. Netscape or MS Internet 
Explorer) open the 'index.htm' file located in the 'root' directory 
of each CD. The html document will direct you to other 
informational documents and the image browser for rapidly viewing 
the image collection. 

The browse image consists of large, medium, and small browse images 
of enhanced color and comparative ratio images for each Clementine 
UVVIS DIM product.  Three browse image renditions are available to 
the user: enhanced color, color ratio, and black/white 750 nm 
images.  The enhanced color images use the 415 nm (blue), 750 nm 
(green), and 950 nm  (red) spectral bands to portray the Moon in 
near-natural color.  The color ratio browse images use the 415/750 
(blue), 750/950 (green), and 750/415 (red) [e.g., Belton et al., 
1992].  The ratio rendition serves to cancel out the dominant 
brightness variations of the scene (controlled by albedo variations 
and topographic shading) and enhances color differences related to 
soil mineralogy and maturity.  The lunar highlands, mostly old (~4 
b.y.) gabbroic anorthosite rocks, are depicted in shades of red 
(old) and blue (younger).  The lunar maria (~3.8 b.y. to ~2 b.y.), 
mostly iron-rich basaltic materials of variable titanium content, 
are portrayed in shades of yellow/orange (iron-rich, low titanium) 
and blue (iron-rich, higher titanium).  Superimposed on and 
intermingled with these basic units are materials from basins and 
craters of various ages, ranging from the ancient Serenitatis basin 
(~3.8 b.y.; red and  blue highland rim, filled with younger, 
yellow-colored low-titanium maria)  to the young, fresh crater, 
Tycho (~100 m.y.; bright blue rays on older,  red highland 
surface).

Software tools for viewing and accessing of the image collection 
are available through the Planetary Data System's (PDS) Internet 
services. Refer to the 'aareadme.txt' located in the 'root' for 
more information on these tools. The program NASAView can be used 
to display the full resolution image products. NASAView is a PDS 
product display tool that runs on multiple platforms with a common 
graphical user interface. The current version (version 2.5.2) does 
not support the Clementine multispectral products. A new version 
will support multispectral data and is planned for release in late 
summer 1999. See the PDS Home Page for information on NASAView and 
it's availability (http://pds.jpl.nasa.gov/). The PDS Home Page 
will lead you to the site for direct access to NASAView (currently 
located at the URL: http://pds.jpl.nasa.gov/license.html).  Once 
the proper version of NASAView is installed on your system, it can 
also be incorporated with your web browser as a helper application. 
Refer to your particular web browser document for information on 
helper applications. The MapMaker system enables users to generate 
seamless image maps for any latitude-longitude region at a variety 
of scales and map projections. For more information on the MapMaker 
system, contact the PDS Imaging Node (http://www-
pdsimage.jpl.nasa.gov/PDS/, or e-mail eeliason@usgs.gov). 

Additionally, each image file is associated with an Integrated 
Software for Imagers and Spectrometers (ISIS) [Eliason, 1997; 
Torson and Becker, 1997] detached label. The detached ISIS label 
allows for images to be accessed and processed within the ISIS 
system (available through the USGS, Flagstaff, AZ at 
http://wwwflag.wr.usgs.gov/).



2 - CLEMENTINE MISSION
======================

The Clementine Mission [Nozette et al., 1994; McEwen and Robinson, 
1997], officially designated as the Deep Space Program Science 
Experiment (DSPSE), was the first in a planned series of technology 
demonstrations jointly sponsored by the Ballistic Missile Defense 
Organization (BMDO) of the Department of Defense and the National 
Aeronautics and Space Administration (NASA). Clementine was 
launched on 1994-01-25 aboard a Titan IIG rocket from Vandenburg 
Air Force Base in California. The mission included two months of 
systematic lunar mapping (1994-02-26 through 1994-04-21), which was 
to have been followed by a flyby of the near-Earth asteroid 
Geographos (1994-08-31). An onboard software error, combined with 
improbable hardware conditions, on 1994-05-07 led to accidental 
spin-up of the spacecraft and loss of attitude control gas. This 
precluded the flyby of Geographos. The spacecraft itself was 
affectionately known as Clementine since, as in the song of the 
same name, it would be 'lost and gone forever' after completing its 
short mission.

Clementine's primary objective was qualification of lightweight 
imaging sensors and component technologies (including a star 
tracker, inertial measurement unit, reaction wheel, nickel hydrogen 
battery, and solar panel) for the next generation of Department of 
Defense spacecraft. DSPSE represented a new class of small, low 
cost, and highly capable spacecraft that fully embraced emerging 
lightweight technologies to enable a series of long-duration deep 
space missions. A second objective was the return of data about the 
Moon and Geographos to the international civilian scientific 
community. 

The UVVIS mosaic was created using the Clementine EDR Image Archive 
[Eliason et al., 1995] produced by the Clementine mission. The EDR 
(Engineering Data Record) data are raw images and they contain the 
inherent properties of unprocessed and uncorrected data. The 
Clementine EDR Image Archive contains more than 1.9 million images 
acquired during active mission operations. For information on how 
to obtain this archive contact the PDS Imaging Node or visit their 
world wide web site.




3 - ULTRAVIOLET/VISIBLE CAMERA (UVVIS)
======================================

The Ultraviolet/Visible (UVVIS) camera [Kordas et al., 1995; 
Jolliff, 1999; Gaddis et al., 1999a; Gaddis et al., 1999b] has a 
catadioptic telescope using fused silica lenses focused onto a 
metachrome-coated charge-coupled device (CCD) imager. Active 
wavelength response is limited on the short wavelength end by the 
transmission of fused silica and the optical blur of the lens. 
Wavelength response on the long end is limited by the response of 
the CCD. Six spectral bands can be selected from a filter wheel 
assembly allowing observations in the 415, 750, 900, 950, 1000 nm 
wavelengths. An additional broad band filter was available on the 
filter wheel. For more information on the UVVIS camera refer to the 
'uvviscat.cat' file in the 'catalog' directory.

4 - LUNAR ORBIT SUMMARY
=======================

The Clementine spacecraft maintained a polar orbit during the 
systematic mapping of the surface of the Moon [McEwen and Robinson, 
1997]. Mapping of virtually 100% of the lunar surface was done in 
two lunar days (two Earth months). In order to obtain full coverage 
during these two months, the required image overlap for the UVVIS 
and Near-infrared (NIR) cameras was ~15% in the down-track and ~10% 
in the cross-track directions. This required an inclination of the 
orbit of 90 degrees plus-or-minus 1.0 degree with reference to the 
lunar equator with the periselene of the lunar orbit maintained at 
an altitude of 425 plus-or-minus 25 km. To provide the necessary 
cross-track separation for the alternating imaging strips to cover 
the entire surface of the Moon, the orbital period was 
approximately 5 hours, during which the Moon rotated approximately 
2.7 degrees beneath the spacecraft. Images were taken and recorded 
only in the region of periselene, leaving sufficient time to replay 
the data to Earth.

The best data for lunar mineral mapping is obtained if the solar 
phase angle is less than 30 degrees. The solar phase angle is 
defined as the angle between the vector to the Sun and the vector 
to the spacecraft from a point on the Moon's surface. To maximize 
the time in which the solar phase angle is less than 30 degrees, 
the plane of the lunar orbit should contain the Moon-Sun line 
halfway through the two-month lunar mapping period. Therefore, 
insertion into the lunar orbit was selected so that, as the Moon-
Sun line changes with Earth's motion about the Sun, the Moon-Sun 
line will initially close on the orbital plane, and then lie in the 
orbital plane halfway through the mapping mission. The angle 
between the Moon-Sun line and the orbital plane was close (less 
than 5 degrees) for approximately five weeks before becoming zero. 
The table shown below contains a list of Clementine's orbital 
parameters. For more information on the Lunar orbit refer to the 
'mission.cat' file located in the 'catalog' directory.

                     Clementine Orbital Parameters
      ===========================================================
Orbital Period:         4.970 hr < P < 5.003 hr
Altitude of Periselene: 401 km < radius < 451 km
Eccentricity:             0.35821 < e < 0.37567
Right Ascension:         -3 deg < Omega < +3deg(referred J2000)
Inclination:             89 deg < i < 91 deg
Argument of Periselene: -28.4 deg < w < -27.9 deg (1st month)
                         29.2 deg < w < 29.6 deg (2nd month)


5 - GEOMETRIC ACCURACY
======================

The Clementine UVVIS mosaic was geometrically controlled to the 
previously published Clementine Basemap Mosaic by tying individual 
UVVIS images that make up a color set to the corresponding image in 
the color set that was used to produce the basemap mosaic. A 
description of the method for controlling the basemap mosaic 
follows:

The basemap mosaic significantly improves the geometric control of 
the Moon from previous maps and ground control points.  On the 
basis of best-effort measurements of the spacecraft orbit and 
pointing, UVVIS geometric distortions, and time tags for each 
observation, the Clementine SPICE [Acton, 1996] data alone provide 
positional accuracy better than 1 kilometer over most of the Moon. 
With residual, primarily small, random pointing errors, then the 
accuracy approaching the UVVIS scale becomes achievable.

The goal of the basemap is for 95% of the Moon (excluding the 
oblique observation gap fills) to be better than 0.5 km/pixel 
absolute positional accuracy and to adjust the camera angles so 
that all frames match neighboring frames to within an accuracy of 2 
pixels. To achieve these goals we required camera alignment and 
pointing data accurate to a few hundredths of a degree. We 
determined the absolute alignment of the UVVIS with respect to 
spacecraft-fixed axes (A and B Star Tracker Camera quaternions) by 
analyzing a major subset of the over 17,000 images of Vega, over 
6,000 images of the Southern Cross, and a few hundred images of the 
Pleiades, taken during the approach to the Moon and throughout the 
lunar mapping mission phase. Multiple star images within a single 
picture were used to determine the UVVIS focal length and optical 
distortion parameter values.

Approximately 265,000 match points were collected at the USGS from 
~43,000 UVVIS 750 nm images providing global coverage. About 80% of 
these points were collected via autonomous procedures, whereas the 
remaining 20% required the more time-consuming but highly accurate 
pattern-recognition capability of the human eye-brain. We also 
developed streamlined procedures for the supervised collection of 
match points. The new procedures saved several person-years of 
effort and represent new capabilities useful with other planetary 
datasets. The automated success rate exceeded 90% along each 
spacecraft orbit track, where the overlap regions of successive 
images are highly correlated, but failed when the overlap region is 
narrow and/or nearly featureless. ('Failure' is defined as less 
than 3 points per image with correlation coefficients greater than 
0.85; thus, many good match points were rejected because we could 
not be certain that the matches were valid without verification.) 
Across-track matching was more difficult due to changes in scale 
and illumination angle, but a fair success rate (~60%) was 
nevertheless achieved via the use of 'window-shaping' (local 
geometric reprojections). The oblique gap-fill images were the most 
difficult to match and required substantial human intervention. 
Matching the polar regions was time-consuming because each frame 
overlaps many other frames. Most match points were found to a 
precision of 0.2 pixel. 

 The USGS match points were provided to the RAND Corporation for 
analytical triangulations. Using these match points, control points 
from the Apollo region, and the latest NAIF/SPICE (Navigation and 
Ancillary Information Facility/ Spacecraft, Planet Instrument, C-
matrix, and Event kernels) [Acton,1996] information, RAND 
determined improved camera orientation angles for the global set of 
UVVIS images. A constant lunar radius of 1737.4 kilometers was 
assumed, a significant source of error near the oblique gap fills. 
The analytical triangulation is a least-squares formulation 
designed to adjust the latitude and longitude of the control points 
and the camera orientation angles to best fit the match points. The 
triangulation was first computed on 'packets' of match points (each 
covering about one-eighth of the Moon), then checked and rechecked 
at the USGS via plots and test mosaics to fix and add match points 
as needed. The final (global) analytical triangulation required 
solving ~660,000 normal equations. The mean error is less than 1 
pixel. This effort is by far the largest analytical triangulation 
ever applied to a planetary body other than Earth. The results 
fully define the planimetric geometry of the basemap, to which 
future systematic products will be tied.

This concludes the discussion regarding the description of the 
method for controlling the previously released basemap mosaic.

6 - DATA PROCESSING
===================
The Integrated Software for Imagers and Spectrometers (ISIS) 
processing system [Eliason, 1997; Torson and Becker, 1997], 
developed by the U.S. Geological Survey, was used to generate the 
UVVIS mosaic. Processing within ISIS includes radiometric and 
geometric correction, spectral registration, photometric 
normalization, and image mosaicking. Radiometric correction applies 
'flat fielding,' dark current subtraction, non-linearity 
correction, and conversion to radiometric units. Geometric 
transformations tie each raw image with a ground control network 
and convert from raw image coordinates to the Sinusoidal Equal-Area 
projection. Photometric normalization is applied to balance 
brightness variations due to illumination differences among the 
images in a mosaic. Images are then mosaicked together to form a 
global map of continuous image coverage for the entire planetary 
body. 

The UVVIS mosaic was processed in five stages or "levels." All 
corrections made during these stages have some degree of 
uncertainty; the processing sequence was designed to process from 
corrections with highest probability of accuracy to those with the 
lowest. The first level of processing, level 0, prepares the data 
for processing by ISIS. The raw images are converted to ISIS format 
and ancillary data such as viewing geometry are added to the labels 
of the image file. Level 1 processing applies radiometric 
corrections and removes artifacts from the image. Level 2 performs 
geometric processing to remove optical distortions and to convert 
the image geometry to a standard map projection. Level 3 performs 
photometric processing for normalizing the sun-viewing geometry of 
an image scene. Level 4 performs mosaicking of individual images to 
create global or regional views for the planetary surface.

Level 0 
-------
The Level 0 processing step prepares the raw image data and 
associated metadata for processing by the ISIS system. Level 0 
processing consists of two program steps. The first step reads the 
format of the raw image and converts it to an ISIS file. 
Additionally this step will extract the metadata from the input 
image labels for inclusion into the ISIS label. The metadata may 
contain information such as the instrument operating modes, 
temperature of the camera focal plane, UTC time of observation, and 
other information necessary to rectify an image. The second step 
extracts navigation and pointing data ("SPICE" kernel data) for 
inclusion into the ISIS file.

Level 1
-------
The next level of processing, Level 1, performs radiometric 
correction and data clean-up on an image. Level 1 consists of a 
series of programs to correct or remove image artifacts such as 1) 
camera shading inherent in imaging systems, 2) brightness anomalies 
caused by minute dust specks located in the optical path, 3) 
microphonic noise introduced by operation of other instruments on 
the spacecraft during image observations, and 4) data drop-outs and 
spikes due to missing or bad data from malfunctioning detectors or 
missing telemetry data. Level 1 processing results in an "ideal" 
image that would have been recorded by a camera system with perfect 
radiometric properties (although in practice residual artifacts and 
camera shading remain). The density number (DN) values of a 
radiometrically corrected image are proportional to the brightness 
of the scene.  The details for radiometric correction are described 
in section 7.

Level 2
-------
Producing the Clementine UVVIS mosaic required geometric processing 
to be performed on the individual images that make up the database. 
The individual images are geometrically transformed from spacecraft 
camera orientation to a common map coordinate system of a specific 
resolution. Before geometric transformation, images must first be 
geometrically matched to each other to establish relative geometric 
control among the images and then the image set must be tied to a 
ground control net to establish absolute ground truth. The process 
of matching images and tying the image set to ground truth 
minimizes the spatial misregistration along image boundaries.

Level 2 performs geometric processing which includes correcting 
camera distortions as well as transformation from image coordinates 
to map coordinates. The image transformation is based on the 
original viewing geometry of the observation (including the optical 
distortion model of the camera), relative position of the target, 
and the mathematical definition of the map projection. An 
additional resampling method is employed to perform sub-pixel 
registration of the 5 bands in the color set.

Using the ISIS system the Sinusoidal Equal-Area projection data can 
be transformed to other map projections.

Level 3
-------
Photometric normalization is applied to images that make up the 
UVVIS DIM in order to balance the brightness levels among the 
images that were acquired under different lighting conditions. To 
illustrate, consider two images of the same area on the Moon where 
one image was acquired with the Sun directly overhead and the 
second with the Sun lower to the horizon. The image with the higher 
sun angle would be significantly brighter than the image with the 
low sun angle. Photometric normalization of the two images would 
cause them to be adjusted to the same brightness level. 

Radiometrically calibrated spacecraft images measure the brightness 
of a scene under specific angles of illumination, emission, and 
phase. For an object without an optically significant atmosphere, 
this brightness is controlled by two basic classes of information: 
1) the intrinsic properties of the surface materials, including 
composition, grain size, roughness, and porosity; and 2) variations 
in brightness due to the local topography of the surface. 
Photometric normalization is effective only to the extent that all 
geometric parameters can be modeled. The local topography is not 
included in the model (i.e. the planetary surface is thought of as 
a smooth sphere). However, illumination geometry at each pixel 
certainly depends on local topography; unless the topographic slope 
within a pixel is accurately known and compensated, the photometric 
correction cannot be perfect. Section 8 describes the photometric 
normalization.

Level 4
-------
Compilation of an accurate digital mosaic of the individual images 
is the final stage in the construction of the UVVIS DIM. The DIM is 
created by first generating a blank (or null) image that represents 
the regional or global image map of the Moon. The individual images 
are then mosaicked into the initially blank image map. The order in 
which individual images are placed into the mosaic is an important 
consideration. Because images are mosaicked one on top of the 
other, images that get laid down first are overwritten in the area 
of overlap by subsequent images that are added to the mosaic. 
Images that have the lowest data quality or resolution should be 
laid down first, followed by images with highest quality. With this 
method the areas of image overlap contain the highest quality 
images.


7 - RADIOMETRIC CALIBRATION
============================
The radiometric calibration process converts raw density-number 
(pixel brightness) values to reflectance. The radiometric 
calibration algorithm, previously described [McEwen et al., 1998], 
is summarized below. For all equations provided in the document the 
asterisk character (*) is used to denote a multiplication and the 
double asterisk (**) is used to denote exponentiation.
 
---------------------------------------------------------------------
STEP 1. Global Offset Corrections
---------------------------------------------------------------------
Step_1_DN(j,i) = raw_DN(j,i) - C4*OFFSET_MODE_ID - C5

where:
raw_DN(j,i) = data values from PDS Clementine EDR  image archive 
       for a UVVIS image.
j = row or line number from 1 (top) to 288 (bottom)
i = column or sample number from 1 (left) to 384 (right).
C4 = -8.177
OFFSET_MODE_ID = offset mode of camera, this value obtained from PDS
       labels (values may be 0,1,2,3,4,5,6, or 14)
C5 = 15.56

---------------------------------------------------------------------
STEP 2. Divide by gain
---------------------------------------------------------------------
Step_2_DN(j,i) = Step_1_DN(j,i)/g(GAIN_MODE_ID)

where:
GAIN_MODE_ID = offset mode of camera, this value
       obtained from PDS labels (values may be  1, 2, or 4)
g(GAIN_MODE_ID) = gain value
       Mode 1 = 1.0 (by definition)
       Mode 2 = 2.907 
       Mode 4 = 6.906 

---------------------------------------------------------------------
STEP 3. Subtract pixel-dependent dark current
---------------------------------------------------------------------
Step_3_DN(j,i) = Step_2_DN(j,i) - [DC(j,i) + C3]

where:
DC(j,i) = dark current correction file, line and sample number 
       dependent normalized to a mean of 0.0.
C3 = 7.13 

---------------------------------------------------------------------
STEP 4. Non-linearity Correction
---------------------------------------------------------------------
Step_4_DN(j,i) = Step_3_DN(j,i) * XMUL

where:
XMUL = A + B*Step_3_DN(j,i) + C*step_3_DN(j,i)**2
+ D*Step_3_DN(j,i)**3
A =  1.062
B = -0.1153E-02
C =  0.6245E-05
D = -0.1216E-07

---------------------------------------------------------------------
STEP 5. Temperature-Dependent Offset Correction
---------------------------------------------------------------------
Step_5_DN(j,i) = Step_4_DN(j,i) - C2(j,T)*u

where:
C2(j,T) = 0.003737 * exp(0.0908*(T-273.15))
T = FOCAL_PLANE_TEMPERATURE
u = t + readout time
t = corrected exposure time = EXPOSURE_DURATION + 0.0494
    (EXPOUSRE_DURATION obtained from PDS values)
readout time = 60.05 + 0.1*(j-1)

---------------------------------------------------------------------
STEP 6. Frame Transfer Correction
---------------------------------------------------------------------
Step_6_DN(j,i) = Step_5_DN(j,i) - ro(i,t)

where:
ro(i,t) = column_sum(i)*dt/(t + 288*dt)
column_sum(i) = sum of all 288 Step_4_DN values in column i.
dt = frame transfer time per row = 0.00068
        
Note: Frame transfer effect is under-corrected if there
are saturated pixels in a column. It is best to use
raw_DN = 255 to estimate column sum (rather than exclude
saturated pixels).

---------------------------------------------------------------------
STEP 7. Flat-Field and Exposure Time Normalization
---------------------------------------------------------------------
Step_7_DN(j,i) = Step_6_DN(j,i)/[U(j,i,l)*t]

where:
U(j,i,l) =  the filter (l) dependent flat-field correction
     normalized to 1.0 at the Vega position (row 141, column 188).
t = corrected exposure time = EXPOSURE_DURATION + 0.0494

The units of Step_7_DN(j,i) are now counts/ms.

---------------------------------------------------------------------
STEP 8. Normalize to Sun-Moon Distance of 1 AU
---------------------------------------------------------------------
Step_8_DN(j,i) = Step_7_DN(j,i) * [(SOLAR_DISTANCE/AU)**2]

where:
AU = 149,597,870 km
SOLAR_DISTANCE = sun-to-target distance(extracted from PDS labels)

---------------------------------------------------------------------
Step 9. Conversion to Reflectance
---------------------------------------------------------------------
R(j,i) = Step_8_DN(j,i)*Cr(l)

where: 
Cr(l)  =  values derived based on Carle Pieters' spectral 
   calibration to Apollo 16 soils (see description below for 
   derivations)

CENTER_FILTER_WAVELENGTH Cr(l)
----------------------------------------------------------------
415 nm  0.020101
750 nm  0.011662
900 nm  0.010118
950 nm  0.010300
1000 nm 0.023063
----------------------------------------------------------------

Radiometric normalization coefficients (Cr(l) in Step 9)  for 
Clementine imaging were developed by Carle Pieters based on 
laboratory spectra from Apollo 16 landing site soils returned to 
Earth [Pieters et al., 1991]. The Clementine EDR frame 
'lub1845i.295' was used to define the radiometric normalization 
coefficients for the UVVIS imaging. The image sub-area: 52-62 
(sample) x 87-118 (line) relative to the upper left pixel addressed 
at 1,1 was selected as the control area assuming the soils were 
representative of the returned Apollo 16 landing site soils. For 
the spectral range of the 750 nm filter, laboratory observations 
gave 0.1868 fractional reflectance (18.68% reflectance at 30 
degrees illumination, 0 degrees emission). To convert from 
counts/millisecond (Rraw column in table below) normalized to 30 
degrees incidence and 0 degrees emission (Rclem) to reflectance 
(Relab) the coefficient AvgCr(l) is applied. The table shown below 
lists the normalization coefficients AvgCr(l) of each UVVIS filter. 
The AvgCr(l) coefficients convert counts/millisecond camera output 
to fractional reflectance. 

Note: Cr(l) values above were rederived following non-linearity 
correction; they differ slightly from those originally reported at 
Brown University because they skipped the non-linearity correction 
and used different offset coefficients (C3 and C5).


             Photometric Angles
Filter Frame    EM  IN   PH  Rraw Cphot Rclem  Relab   Cr    AvgCr
-------------------------------------------------------------------
A lua1850i.295 2.3 26.8 28.7  5.6 0.960  5.37 .1077 .020026
A lua1851i.295 2.4 26.8 28.7  5.5 0.960  5.33 .1077 .020176 .020101

B lub1845i.295 2.3 26.8 28.7 15.8 0.961 15.23 .1776 .011661
B lub1846i.295 2.3 26.8 28.7 15.8 0.961 15.22 .1776 .011662 .011662

C luc1842i.295 2.2 26.8 28.7 19.4 0.962 18.68 .1893 .010131
C luc1843i.295 2.3 26.8 28.7 19.5 0.962 18.73 .1893 .010105 .010118

D lud1838i.295 2.2 26.8 28.8 19.6 0.963 18.83 .1941 .010308
D lud1839i.295 2.2 26.8 28.8 19.6 0.963 18.85 .1941 .010292 .010300

E lue1835i.295 2.2 26.8 28.8  9.0 0.964  8.69 .2004 .023040
E lue1836i.295 2.2 26.8 28.8  9.0 0.964  8.68 .2004 .023085 .023063

The Apollo 16 control area used for the analysis of the 
normalization coefficients corresponds to the area located in 
quadrangle "ui10s015" subarea samples 940-956 and lines 540-587.

Possible sources of error in the Clementine data include residual 
calibration errors (~1% filter-to-filter) [Pieters et al., 1997], 
photometric variations within a scene, and scattered light [Gaddis 
et al., 1999b]. Residual photometric variations include the effects 
of wavelength-dependent variations at levels of about 0.2% across a 
Clementine frame and ~0.5% between frames. Scatter light is 
possible anomalous brightness in which high-albedo units influence 
the measured values of low-albedo units (and vice versa) to varying 
degrees at different wavelengths. In the Clementine data scattered 
light has estimated magnitudes of 10% to 13% at all wavelengths [Li 
et al., 1999; Robinson et al 1999].

8 - PHOTOMETRIC FUNCTION NORMALIZATION
======================================
The photometric function normalization used in the compilation of 
the UVVIS multispectral mosaic has been previously described in 
[McEwen, 1996; McEwen et al., 1998].  The data are normalized to 
R30, the reflectance expected at an incidence angle (i) and phase 
angle (p) of 30.0 degrees and an emission angle (e) of 0.0 degrees 
matching the photometric geometry of lunar samples measured at the 
reflectance laboratory at Brown University [Pieters et al., 1991]. 
The focus is on the precision of the normalization, not the 
putative physical significance of the photometric function 
parameters.  The modified Lunar-Lambert function used in the 
processing is as follows:

XL(i,e,p) = 2*L(p)*u0/(u+u0) + (1-L(p))*u0

where:
i = incidence angle
e= emission angle
p = phase angle
u = cos(e)
u0 = cos(i)
L = variation of the limb-darkening parameter expressed
    as a third-order polynomial:
    L(p) =  1.0 + A*p + B*(p**2) + C*(p**3)
    A = -0.019
    B =  0.242E-3
    C = -1.46E-6

The phase function correction based on work from Helfenstein 
[McEwen, 1996] is defined as follows:

F(p) = B(p,h,b0)*[(1-f)*P(p,g1) + f*P(p,g2)]

B(p,h,b0) = 1 + b0/(1+tan(p/2)/h) (Backscatter function)
P(p,g) = (1-g**2)/(1+g**2+2*g*cos(p)**1.5)
b0 = wave length dependent constant (see table below)

The g1 parameter is expected to vary with albedo modeled as: 

g1 = d*R30 + e (however, d=0 for Clementine processing, thus
               eliminating any correction for albedo).
R30 = normalized albedo

To describe the backscatter function at less than 2 degrees phase 
angle, the following linear functions are used based on results
from Burratii [McEwen, 1996]:

   F(p) = 1.0 + xb
   xb = xb0 + xb1 * wave_length 
   where: 
   xb0 = -0.0817
   xb1 = 0.0081

Final normalization to the RELAB geometry is given by: 

R30 = R(i,e,p)*[XL(30,0,30)/XL(i,e,p)]*[F(30)/F(p)]

where:
f,g2,b0,h = parameters determined by fits to a dataset. These 
values are provided for each spectral filter. Note that d=0
means that we do not attempt to vary the photometric correction
as a function of albedo. 

Filter           b0    h    d    e    f   g2
-----------------------------------------------
   A (415 nm)   2.31 0.062  0 -0.222 0.5 0.39
   B (750 nm)   1.60 0.054  0 -0.218 0.5 0.40
   C (900 nm)   1.35 0.052  0 -0.226 0.5 0.36 
   D (950 nm)   1.35 0.052  0 -0.226 0.5 0.36
   E (1000 nm)  1.35 0.052  0 -0.226 0.5 0.36

After completion of the processing for the UVVIS quadrangles, a 
minor program bug was discovered in the photometric normalization 
program. The bug incorrectly calculated the value for XL(30,0,30)
(see above).  Instead of using 30 degrees phase angle, the 
program incorrectly used the phase angle of the image XL(30,0,p). 
The result was an up to 3% error in brightness at the poles. 
The ratio of the bands however were not effected by this bug. 

A correction was applied to the mosaic to correct for the 
photometric bug. In our fix, we assumed a phase angle of 15 
degrees at the equator and 90 degrees at the poles as per 
the equation shown below:

corr = radiance value is corrected by dividing by corr.
pbase = average phase angle at equator during mission (15 deg).
subsol = sub-solar latitude. 
lat = latitude of pixel to be corrected.
p = Phase angle developed as a function of latitude.

pbase = 15
subsol = 0.0

p = acos( sin(90-subsol) * sin(90-lat) *
  cos(pbase) + cos(90-subsol)*cos(90-lat) )/rad

A = -0.019
B =  0.000242
C = -0.00000146

XL30 = 1.0 + A*30 + B*30*30 + C*30*30*30

R30 = (2.0*XL30*COS(30*RAD))/(1.0+COS(30*RAD))+
      (1.0-XL30)*COS(30*RAD)

XL = 1.0 + A*PHASE + B*PHASE*PHASE + C*PHASE*PHASE*PHASE
         
R  =  (2.0*XL*COS(30*RAD))/(1.0+COS(30*RAD))+
     (1.0-XL)*COS(30*RAD)

corr = R/R30
   
9 - SECOND-ORDER RADIOMETRIC/PHOTOMETRIC CORRECTIONS
====================================================
During compilation of the UVVIS mosaic, differences in phase 
function behavior near zero phase were observed for different 
albedo materials. The phase function model applied to the data did 
not include an albedo dependent term (d was set to zero, see above) 
and thus one would expect to observe these differences. 

Additionally, we discovered small differences (<3%) between the 
first and second month orbital data that in part can be attributed 
to calibration drift of the UVVIS camera over the two month 
observation period as well as improper modeling of the instrument 
sensitivity dependence on instrument temperature. The effect was 
especially apparent in the visual display of the ratio of two 
spectral bands. 

A correction for reconciling near-zero phase function and 
calibration differences between the first and second month was 
developed. The procedure compared month-one and month-two orbital 
data in areas of common areal coverage.  Month-one orbital data, 
containing little or no data coverage near zero phase, was used to 
control and adjust the month-two data. (The areal coverage of 
month-one and month-two data are interleaved.)

A least squares procedure was developed for matching month-two data 
to month-one data. For each UVVIS spectral band of each month-two   
orbit, a ratio of the month-one/month-two reflectance values for 
areas of common coverage was plotted as a function of latitude and 
phase angle. A third-order polynomial was used to model the ratio 
differences between month-one and month-two:
 
     B12(orbit,w,p,lat) = A(orbit,w)*lat**3 + B(orbit,w)*lat**2 
        + C(orbit,w)*lat + D(orbit,w)/p**3 + E(orbit,w)/p**2 + 
        F(orbit,w)/p + G(orbit,w)

where: 
B12(orbit,w,p,lat) = the ratio of month-one reflectance to month-
two reflectance in areas of common coverage.

A,B,C,D,E,F,G = coefficients derived from the least squares fit. A 
set of coefficients exists for each UVVIS spectral band and each 
month-two orbit.

orbit = orbit number of month-two orbit to be corrected.

w = UVVIS spectral wavelength.

lat = latitude

p = phase angle. A 1/p**n function was used because the correction 
is greatest near zero phase and asymptotically approaches 1.0 at 
large phase angles.

The final correction to the month-two orbit data is given as:

R_Cor(w,i,j) = R(w,i,j)*B12(orbit,w,p,lat)

where:
R_Cor(w,i,j) = corrected reflectance value at pixel i,j for month-
two orbit.

R(w,i,j) = original reflectance value at pixel i,j for month-two 
orbit.


A set of coefficients A-G was developed and applied for each month-
two orbit. For future reference, these coefficients can be found in 
the 'coef.tab' file located in the index directory on the final 
volume of the CD-ROM volume set.




10 - CONVERSION OF 16-BIT PIXEL VALUES TO FLOATING POINT NUMBERS
================================================================
To convert the 16-bit integer values found in the image arrays of 
the UVVIS multispectral mosaic to fractional reflectance an offset 
and scaling factor need to be applied as shown: 
        FRACTIONAL_REFLECTANCE = (SCALING_FACTOR * DN) + OFFSET
        where: DN = 16-bit pixel value of UVVIS DIM image array.
               SCALING_FACTOR = 1.3500E-04
               OFFSET = 0.00

The ISIS system automatically converts the 16-bit integer values to 
floating point values by applying the scaling factor and offset 
values.




11 - FILES, DIRECTORIES, AND DISK CONTENTS
==========================================

The files on this CD volume set are organized starting at the root 
or 'parent' directory. Below the parent directory is a directory 
tree containing data, documentation, and index files. In the table 
below directory names are indicated by brackets (<...>), upper-case 
letters indicate an actual directory or file name, and lower-case 
letters indicate the general form of a set of directory or file 
names.

DIRECTORY/FILE          CONTENTS
--------------          --------------------------------------------
<root>
|
|-AAREADME.TXT          Introduction to the CD volume (ASCII Text)
|
|-INDEX.HTM             Hypertext Markup Language(HTML) file for use
|                       as a user interface to files on this CD.
|
|-ERRATA.TXT            Description of known anomalies and errors
|                       present on the volume set (optional file).
|
|-VOLDESC.CAT           A description of the contents of this
|                       CD volume in a format readable by
|                       both humans and computers.
|
|-<CATALOG>             Catalog Directory
|  |
|  |-CATINFO.TXT        Describes Contents of the Catalog directory
|  |
|  |-DATASET.CAT        Clementine UVVIS DIM Mosaic description
|  |
|  |-DSMAP.CAT          Map Projection description
|  |
|  |-INSTHOST.CAT       Clementine Spacecraft description
|  |
|  |-MISSION.CAT        Clementine Mission description
|  |
|  |-PERSON.CAT         Contributors to Clementine UVVIS Mosaic
|  |
|  |-REF.CAT            References for Clementine UVVIS Mosaic
|  |
|  |-UVISINST.CAT       UVVIS Camera description
|
|-<DOCUMENT>            Documentation Directory. The files in this
|  |                    directory provide detailed information
|  |                    regarding the Clementine UVVIS Mosaic.
|  |
|  |-DOCINFO.TXT        Description of files in the DOCUMENT
|  |                    directory.
|  |
|  |-VOLINFO.TXT        Documentation regarding the
|  |                    contents of this CD Volume Set.
|  |
|  |-VOLINFO.HTM        HTML document for VOLINFO.TXT
|  |
|  |-VOLINFO.LBL        PDS Label file describing the VOLINFO
|  |                    documents.
|  |
|  |-SCHEME.PDF         Adobe Acrobat Portable Document Format file
|                       showing UVVIS tiling and CD volume scheme.
|
|-<INDEX>               Directory for the image index files.
|  |
|  |-INDXINFO.TXT       Description of files in <INDEX> directory.
|  |
|  |-INDEX.TAB          Image Index table specific to each volume.
|  |
|  |-INDEX.LBL          PDS label for INDEX.TAB
|  |
|  |-CUMINDEX.TAB       Image Index table for entire CD collection.
|  |
|  |-CUMINDEX.LBL       PDS label for CUMINDEX.TAB.
|
|-<DATA>                Data directory containing UVVIS DIM tiles.
|  |
|  |-<tsppymmm.xxx>     Data filenames where;
|                               (For this UVVIS CD Volume Set)
|                           t = U (Clementine UVVIS Mosaic)
|                             = P (Phase angle image (for <PHASE> dir)
|
|                               (For past or future CD Volumes)
|                             = B (Clementine Basemap Mosaic)
|                             = U (UVVIS Cube)
|                             = N (NIR Cube)
|                             = L (LWIR Image Data)
|                             = H (Hi-res Image Data)
|
|                           s = (Resolution - km/pixel)
|                             = A   (0.004 km/pixel - future mapping)
|                             = B-D (For future mapping as needed)
|                             = E   (0.02 km/pixel - future mapping)
|                             = F-H (For future mapping as needed)
|                             = I   (0.1 km/pixel)
|                             = J   (0.15 km/pixel)
|                             = K-L (For future mapping as needed)
|                             = M   (0.5 km/pixel)
|                             = N-P (For future mapping as needed)
|                             = Q   (2.5 km/pixel)
|                             = R-T (For future mapping as needed)
|                             = U   (12.5 km/pixel)
|                             = V-Z (For future mapping as needed)
|
|                          pp = (00-90) Center latitude of Image File.
|                               (Two digit truncated integer)
|
|                           y = N (Positive latitude)
|                             = S (Negative latitude)
|                             = <none> (Not used for full latitude
|                                       coverage. i.e. -90 to 90)
|
|                         mmm = (000-360) Center longitude of Image.
|                               (Three digit truncated integer)
|                         xxx = IMG (PDS Labeled Image File)
|                             = LAB  (ISIS Detached Label File)
|                             = JPG (JPEG small, medium, and
|                               large Browse Images) <BROWSE>
|                               Directory Tree only
|                             = HTM (<BROWSE> Directory Tree only)
|
|-<PHASE>               Directory containing phase angle images.
|  |
|  |-<tsppymmm.xxx>     Phase angle filenames as defined
|                       in <DATA> above.
|
|-<BROWSE>              Directory tree containing enhanced color and
   |                    ratio Browse (reduced resolution) JPEG
   |                    images for each image data product on the CD.
   |
   |-BROWINFO.TXT       Description of <BROWSE> content.
   |
   |-BRCOLOR.HTM        Graphics (map)-based HTML interface to
   |                    enhanced color browse data
   |                    (Accessed by INDEX.HTM file).
   |
   |-BRRATIO.HTM        Graphics (map)-based HTML interface to
   |                    color ratio browse data
   |                    (Accessed by INDEX.HTM file).
   |
   |-BRBW.HTM           Graphics (map)-based HTML interface to
   |                    b/w (750nm) browse data
   |                    (Accessed by INDEX.HTM file).
   |
   |-LOCATOR.HTM        CD Volume/Quad Locator Map.
   |
   |-CLEMLOGO.GIF       Various icons, logos, and images
   |-USGSLOGO.GIF       used by HTML documents on the CD.
   |-CLEMGRID.GIF
   |-GR17.GIF
   |-GR38.GIF
   |
   |-<COLOR>
   |  |-<SMALL>
   |  |-<MEDIUM>        Directory tree containing small, medium,
   |  |-<LARGE>         and large sized JPEG images (enhanced color,
   |                    color ratio, and b/w (750nm)) for each
   |-<RATIO>            DIM product. These JPEG images are primarily
   |  |-<SMALL>         used by the HTML documents on the CD.
   |  |-<MEDIUM>        small images are ~60x60 pixels
   |  |-<LARGE>         medium images are ~400x400 pixels
   |                    large images are ~1000x1000 pixels
   |-<750nm>
      |-<SMALL>
      |-<MEDIUM>
      |-<LARGE>


12 - IMAGE FILE ORGANIZATION
===========================

The image files are stored in a PDS compliant format. An image file 
contains a label area (header) at the beginning of the file 
followed by the image data. The number of bytes of the label area 
is a multiple of the number of bytes that make up an image line 
(number of samples * 2 bytes/pixel). The image label area contains 
ASCII text data that describing the image file (see Image Labels 
section below). The label area can be viewed with a simple ASCII 
editor on most computer systems.

ISIS access to UVVIS DIM
------------------------
Each UVVIS image file (*.img filename extension) is associated with 
an Integrated Software for Imagers and Spectrometers (ISIS) 'qube 
object' detached label (.lab filename extension). This detached 
label allows for images to be accessed and processed within the 
ISIS system (available through the USGS, Flagstaff, AZ). Within 
ISIS, users should reference the detached label file when accessing 
image files on the CD set. The ISIS detached label contains a 
pointer to the actual image file so both files (.img and .lab) 
should remain in the same directory if transferring data from CD to 
other media.

Pixel Storage Order
-------------------
The Clementine UVVIS mosaic is stored as image files with 16-bit 
signed integer pixels. The storage order of the pixels is "most 
significant byte order first." This is the storage order for 
Unix/Sun and Macintosh systems. For other systems such as IBM-
compatible PC, Dec/Alpha, and VAX systems, the high and low order 
bytes of the pixels will need to be swapped before the data can be 
used. The ISIS program "convert" will automatically convert the 
data to the proper storage order.

Special Pixel Values
--------------------
Pixels in an image array can contain special values to denote a 
special condition about a pixel. The following values designate a 
special pixel:

-32768 - NULL - The pixel is "empty" and no data were acquired for 
this pixel location in the image array. This condition typically 
occurs when a gap exists in the image map such as when an image was 
not acquired for an area of the Moon.

-32767 - Low Processing Saturation - Processing on the pixel caused 
its value to go outside the low-end dynamic range of the 16-bit 
signed integer.

-32766 - Low Instrument Saturation - The pixel of the raw image was 
"bit clipped" and did not contain a valid value. For example, if 
the bias of the camera was set so that the low DN values could not 
be stored in the dynamic range of the raw image. 

-32765 - High Instrument Saturation - The pixel of the raw image 
was high-end saturated and could not be stored in the dynamic range 
of the raw image. For example, if part of an image scene was too 
bright to be recorded by the imaging instrument. 

-32764 - High Processing Saturation - Processing on the pixel 
caused its value to go outside the high-end dynamic range of the 
16-bit signed integer.

Image Labels
------------
The label area of an image file contains descriptive information 
about the image. The label consists of keyword statements that 
conform to version 3 of the Object Description Language (ODL) 
developed by NASA's PDS project. There are three types of ODL 
statements within a label: structural statements, keyword 
assignment statements, and pointer statements.

Structural statements provide a shell around keyword assignment 
statements to delineate which data object the assignment statements 
are describing. The structural statements are: 
         1) OBJECT = object_name
         2) END_OBJECT
         3) END

The OBJECT statement begins the description of a particular data 
object and the END_OBJECT statement signals the end of the object's 
description. All keyword assignment statements between an OBJECT 
and its corresponding END_OBJECT statement describe the particular 
object named in the OBJECT statement. The END statement terminates 
a label. A keyword assignment statement contains the name of an 
attribute and the value of that attribute. Keyword assignment 
statements are described in more detail in Appendix A of this 
document. These statements have the following format:

         name = value

Values of keyword assignment statements can be numeric values, 
literals, and text strings.

Pointer statements are a special class of keyword assignment 
statements. These pointers are expressed in the ODL using the 
following notation:

         ^object_name = location

If the object is in the same file as the label, the location of the 
object is given as an integer representing the starting record 
number of the object, measured from the beginning of the file. The 
first label record in a file is record 1. Pointers are useful for 
describing the location of individual components of a data object. 
Pointer statements are also used for pointing to data or label 
information stored in separate files. An example of a detached 
label (i.e., label information stored in a separate file) is shown 
below: By convention, detached labels are found in the LABEL 
directory.

         ^STRUCTURE = 'logical_file_name'

The value of 'logical_file_name' is the name of the detached label 
file containing the description.

The keyword statements in the label are packed into the fixed-
length records that make up the keyword label area. Each keyword 
statement is terminated by a carriage-return and line-feed 
character sequence. An example of a Clementine UVVIS DIM image 
label is shown below. Descriptions of the keywords used in the 
UVVIS label are found in Appendix A.


      Example PDS Label for Clementine UVVIS DIM Image files
      ====================================================

PDS_VERSION_ID                 = PDS3

/*          FILE FORMAT AND LENGTH */

RECORD_TYPE                    = FIXED_LENGTH
RECORD_BYTES                   = 3688
FILE_RECORDS                   = 10637
LABEL_RECORDS                  = 2
INTERCHANGE_FORMAT             = BINARY

/*          POINTERS TO START RECORDS OF OBJECTS IN FILE */

^IMAGE                         = 3

/*          IMAGE DESCRIPTION */

DATA_SET_ID                    = "CLEM1-L-U-5-DIM-UVVIS-V1.0"
PRODUCT_ID                     = "UI03N003"
PRODUCER_INSTITUTION_NAME      = "UNITED STATES GEOLOGICAL SURVEY"
PRODUCT_TYPE                   = MDIM
MISSION_NAME                   = "DEEP SPACE PROGRAM SCIENCE 
                                  EXPERIMENT"
SPACECRAFT_NAME                = "CLEMENTINE 1"
INSTRUMENT_NAME                = "ULTRAVIOLET/VISIBLE CAMERA"
INSTRUMENT_ID                  = "UVVIS"
TARGET_NAME                    = "MOON"
FILTER_NAME                    = ("A","B","C","D","E")
CENTER_FILTER_WAVELENGTH       = (415.000,750.000,900.000,
                                  950.000,1000.000)
BANDWIDTH                      = (40.000,10.000,20.000,
                                  30.000,30.000)
START_TIME                     = "N/A"
STOP_TIME                      = "N/A"
SPACECRAFT_CLOCK_START_COUNT   = "N/A"
SPACECRAFT_CLOCK_STOP_COUNT    = "N/A"
PRODUCT_CREATION_TIME          = 1999-01-27T16:10:29
NOTE                           = "UVVIS 5-BAND MOSAIC"

/*          DESCRIPTION OF OBJECTS CONTAINED IN FILE */

OBJECT                         = IMAGE
  BANDS                        = 5
  BAND_STORAGE_TYPE            = BAND_SEQUENTIAL
  BAND_NAME                    = "N/A"
  LINES                        = 2127
  LINE_SAMPLES                 = 1844
  SAMPLE_TYPE                  = MSB_INTEGER
  SAMPLE_BITS                  = 16
  SAMPLE_BIT_MASK              = 2#1111111111111111#
  OFFSET                       = 0.0
  SCALING_FACTOR               = 1.350000E-04
  VALID_MINIMUM                = -32752
  NULL                         = -32768
  LOW_REPR_SATURATION          = -32767
  LOW_INSTR_SATURATION         = -32766
  HIGH_INSTR_SATURATION        = -32765
  HIGH_REPR_SATURATION         = -32764
  MINIMUM                      = 521
  MAXIMUM                      = 2465
  CHECKSUM                     = 2621856957
END_OBJECT                     = IMAGE

OBJECT                         = IMAGE_MAP_PROJECTION
  ^DATA_SET_MAP_PROJECTION     = "DSMAP.CAT"
  COORDINATE_SYSTEM_TYPE       = "BODY-FIXED ROTATING"
  COORDINATE_SYSTEM_NAME       = "PLANETOGRAPHIC"
  MAP_PROJECTION_TYPE          = "SINUSOIDAL"
  MAP_RESOLUTION               = 303.2334900
  MAP_SCALE                    = 0.1000000
  MAXIMUM_LATITUDE             = 7.0000000
  MINIMUM_LATITUDE             = -0.0132000
  EASTERNMOST_LONGITUDE        = 6.0131998
  WESTERNMOST_LONGITUDE        = 0.0000000
  LINE_PROJECTION_OFFSET       = 2123.6345297
  SAMPLE_PROJECTION_OFFSET     = 4549.5024429
  A_AXIS_RADIUS                = 1737.4000000
  B_AXIS_RADIUS                = 1737.4000000
  C_AXIS_RADIUS                = 1737.4000000
  FIRST_STANDARD_PARALLEL      = "N/A"
  SECOND_STANDARD_PARALLEL     = "N/A"
  POSITIVE_LONGITUDE_DIRECTION = EAST
  CENTER_LATITUDE              = 0.0
  CENTER_LONGITUDE             = 15.0000000
  REFERENCE_LATITUDE           = "N/A"
  REFERENCE_LONGITUDE          = "N/A"
  LINE_FIRST_PIXEL             = 1
  SAMPLE_FIRST_PIXEL           = 1
  LINE_LAST_PIXEL              = 2127
  SAMPLE_LAST_PIXEL            = 1844
  MAP_PROJECTION_ROTATION      = 0.0000000
  VERTICAL_FRAMELET_OFFSET     = "N/A"
  HORIZONTAL_FRAMELET_OFFSET   = "N/A"
END_OBJECT                     = IMAGE_MAP_PROJECTION
END


13 - INDEX FILES
================
Each CD volume in the Clementine UVVIS mosaic contains an image 
index file ('index.tab') with catalog information specific to each 
volume. A cumulative index file ('cumindex.tab') is also provided. 
It contains entries for the entire UVVIS CD collection.  The image 
index files and their associated PDS label files ('index.lbl' and 
'cumindex.lbl') are located in the 'index' directory. The catalog 
information in the index tables includes the file names, CD 
volumes, and mapping parameter information. Final volume(s) of this 
UVVIS CD set contains an additional source file index table 
('srcindx.tab' and corresponding PDS label 'srcindx.lbl'). It 
contains information about the EDR image collection used to 
assemble the UVVIS DIM and the images that make up the 5-band color 
sets. This file contains an entry for each EDR image that was used 
in this database. Information in this file includes the improved 
camera pointing data (c-matrix) derived from tying to the geometric 
control network established by the RAND Corporation. For more 
information on the contents of the index files refer to the label 
files. Additionally, the final volume contains a file of 
coefficients ('coef.tab' and corresponding PDS label 'coef.lbl') 
used for the second order corrections described in section 9.

14 - ACKNOWLEDGMENTS
====================

The National Aeronautics and Space Administration is charged with 
the responsibility for coordination of a program of systematic 
exploration of the planets by U.S. spacecraft. To this end, it 
finances spaceflight missions and data analysis and research 
programs administered and performed by numerous institutions. The 
Geological Survey of the U.S. Department of Interior performs 
digital cartographic mapping in support of NASA's program of 
planetary exploration and scientific research.

The Clementine UVVIS DIM Mosaic was compiled for the National 
Aeronautics and Space Administration (NASA) by the United States 
Geological Survey (USGS) under the direction of Eric M. Eliason 
(USGS) and Alfred McEwen (University of Arizona). Mark Robinson 
(Northwestern University) provided tremendous support and expertise 
in the compilation of the UVVIS mosaic. Ella Lee and Tammy Becker 
headed the USGS technical group responsible for its compilation. 
Cartographic and archive design, data conversion for PDS 
compliance, and production of CDs was performed by Chris Isbell. 
The Lunar Geometric Control network was derived by Mert Davies and 
Tim Colvin (both from the RAND Corporation).

Generation of the UVVIS DIM is a very complex process that involves 
and depends on an extended number of people. In addition to those 
already mentioned, completion of this product is the result of 
contributions by the following individuals and groups:

Kevin Adams, Janet Barrett, Kris Becker, Annie Bennett, Sandy 
Castro, Pete Coffin, Patty Garcia, Ana Grecu, JoAnn Isbrecht, James 
Mathews, Janet Richie, Tony Rosanova, Jana Ruhlman, Jac Shinaman, 
Robert Sucharski, Rob Waltz, Lynn Weller

Developers and programmers within the ISIS programming group of 
USGS-Flagstaff, AZ

15 - REFERENCES
===============

Acton, C.H., Ancillary Data Services of NASA's Navigation and 
Ancillary Information Facility: Planetary and Space Sciences, Vol. 
44, No. 1, pp. 65-70, 1996.

Batson, R.M., Cartography: in Greeley, Ronald, and Batson, eds. 
Planetary Mapping: New York, Cambridge University Press, pp. 60-95, 
1990.

Batson, R.M., Digital Cartography of the Planets: New Methods, Its 
Status, and Its Future: Photogrammetric Engineering and Remote 
Sensing, Vol. 53, No. 9, p.1211-1281, 1987.

Belton, M.J.S, J.W. Head III, C.M. Pieters, R. Greely, A.S. McEwen, 
G. Neukum, K.P. Klassen, C.D. Anger, M.H. Carr, C.R. Chapman, M.E. 
Davies, F.P. Fanale, P.J. Gierasch, R. Greenberg, A. P. Ingersoll, 
T. Johnson, B. Paczkowski, C.B. Pilcher, J. Veverka, Lunar Impact 
Basins and Crustal Heterogeneity: New Western Limb and Far Side 
Data from Galileo, Science, Vol. 255, pp. 570-576, 1992.

Eliason, E.M., McEwen, A.S., Robinson, M.S., Lee, E.M., Becker, 
T.L., Gaddis, L., Weller, L.A., Isbell, C.E., Shinaman, J.R., 
Duxbury, T., Malaret, E., Clementine: A Global Multi-Spectral Map 
of the Moon from the Clementine UVVIS Imaging Instrument: Lunar and 
Planetary Science Conference 30th, pp. 1933-1934, 1999.

Eliason, E.M., Production of Digital Image Models Using the ISIS 
System: 
Lunar and Planetary Science Conference 28th, pp. 331-332, 1997.

Eliason, E.M., E.R. Malaret, and G. Woodward, Clementine Mission, 
The Archive of Image Data Products and Data Processing 
Capabilities: Lunar and Planetary Science Conference 26th, pp. 369-
370, 1995.

Gaddis, L.R., B.R. Hawke, M.S. Robinson, and C.R. Coombs, Juvenile 
Materials in Lunar Pyroclastic Deposits: Lunar and Planetary 
Science Conference 30th, pp. 1732-1733, 1999a.

Gaddis, L.R., and B.R. Hawke, M.S. Robinson, and C. Coombs, 
Compositional Analyses of Small Lunar Pyroclastic Deposits Using 
Clementine Multispectral Data, J. Geophys. Res., in press, 1999b.

Isbell, C.E., E.M. Eliason, Adams, K.C., Becker, T.L., Bennett, 
A.L., Lee, E.M., McEwen, A.S., Robinson, M.S., Shinaman, J.R., and 
Weller, L.A., Clementine: A Multi-Spectral Digital Image Model 
Archive of the Moon: Lunar and Planetary Science Conference 30th, 
pp. 1812-1813, 1999.

Jet Propulsion Laboratory, PDS Standards Reference: JPL Document D-
7669, Jet Propulsion Laboratory, Pasadena, California, 1992.

Jolliff, B.L., Clementine UVVIS Multispectral Data and the Apollo 
17 landing site: What can we tell and how well?: J. Geophys. Res., 
Vol. 104, No. E6, pp. 14,123-14,148, 1999.
 
Kordas, J.R., I.T. Lewis, R.E. Priest, W.T. White, D.P. Nielsen, H. 
Park, B.A. Wilson, M.J. Shannon, A.G. Ledebuhr, and L.D. Pleasance, 
UV/visible Camera for the Clementine Mission: Society of Photo-
optical Instrumentation Engineers (SPIE), 2478, pp. 175-186, 1995.

Li, Lin, J.F. Mustard, and C.M. Pieters, The Effects of Scattered 
Light in the Clementine UVVIS Camera on Mixture Analysis, Lunar and 
Planetary Science Conference 30th, pp. 1356-1357, 1999.

McEwen, A.S., E. Eliason, P. Lucey, E. Malaret, C. Pieters, M. 
Robinson, T. Sucharski, Summary of Radiometric Calibration and 
Photometric Normalization Steps for the Clementine UVVIS Images: 
Lunar and Planetary Science Conference 29th, pp. 1466-1467, 1998.

McEwen, A.S., M. Robinson, Mapping of the Moon by Clementine: Adv. 
Space Research, Vol. 19, No. 10, pp. 1523-1533, 1997.

McEwen, A.S., A Precise Lunar Photometric Function: Lunar and 
Planetary Science Conference 27th, pp. 841-842, 1996.

Nozette, S., P. Rustan, L.P. Pleasance, D.M. Horan, P. Regeon, E.M. 
Shoemaker, P.D. Spudis, C.H. Acton, D.N. Baker, J.E. Blamont, B.J. 
Buratti, M.P. Corson, M.E. Davies, T.C. Duxbury, E.M. Eliason, B.M. 
Jakosky, J.F. Kordas, I.T. Lewis, C.L. Lichtenberg, P.G. Lucey, E. 
Malaret, M.A. Massie, J.H. Resnick, C.J. Rollins, H.S. Park, A.S. 
McEwen, R.E. Priest, C.M. Pieters, R.A. Reisse, M.S. Robinson, D.E. 
Smith, T.C. Sorenson, R.W. Vorder Breugge, and M.T. Zuber, The 
Clementine Mission to the Moon: Scientific Overview: Science, Vol. 
266, pp. 1835-1839, 1994.

Pieters, C.M., S. Pratt, H. Hoffmann, P. Helfenstein, and J. 
Mustard, Bi-directional Spectroscopy of Returned Lunar Soils: 
Detailed "Ground Truth" for Planetary Remote Sensors: Lunar and 
Planetary Science Conference 22nd, pp. 1069-1070, 1991.

Pieters, C.M., M. Staid, S. Thompkins, and E. Fischer, Clementine 
UVVIS Data Calibration and Processing: an online document, 
http://www.planetary.brown.edu/clementine/calibration.html, 1977

Robinson, M.S., A.S. McEwen, E.M. Eliason, E.M. Lee, E. Malaret, P. 
Lucey, Clementine UVVIS Global Mosaic: A New Tool for Understanding 
the Lunar Crust: Lunar and Planetary Science Conference 30th, pp. 
1931-1932, 1999.
 
Snyder, J.P, Map Projections - A Working Manual: U.S. Geological 
Survey Professional Paper 1395, United States Government Printing 
Office, 1987.

Torson, J.M. and K.J. Becker, ISIS - A Software Architecture for 
Processing Planetary Images: Lunar and Planetary Science Conference 
28th, pp. 1443-1444, 1997.


APPENDIX A - KEYWORD ASSIGNMENTS

This section defines the keywords used in the image label area of 
the Clementine UVVIS mosaic.

PDS_VERSION_ID                 = PDS3
This dataset conforms to version 3 of the PDS standards.

RECORD_TYPE                    = FIXED_LENGTH
This keyword defines the record structure of the file as fixed-
length record files.

RECORD_BYTES                   = xxxx
Record length in bytes for fixed-length records (number of samples 
*2).

FILE_RECORDS                   = xxxx
Total number of fixed-length records contained in the file.

LABEL_RECORDS                  = x
Number of fixed-length label records in the file.

INTERCHANGE_FORMAT             = BINARY
Data are organized as BINARY values.

^IMAGE                         = x
Pointer to the first record that contains image data. (The first 
record in the file is designated as record 1.).

DATA_SET_ID                    = "CLEM1-L-U-5-DIM-UVVIS-V1.0"
The PDS defined dataset identifier for the Clementine UVVIS mosaic.

PRODUCT_ID                     = "UI03N003"
Unique product identifier for this image file. This value is the 
same as the file name. (Format described in the "FILES, 
DIRECTORIES, AND DISK CONTENTS" section above.) 

PRODUCER_INSTITUTION_NAME      = "UNITED STATES GEOLOGICAL SURVEY"
Identifies the producer organization of this data product.

PRODUCT_TYPE                   = MDIM
This keyword identifies the image product as a Mosaicked Digital 
Image Model (MDIM).

MISSION_NAME                   = "DEEP SPACE PROGRAM SCIENCE 
                                  EXPERIMENT"
The keyword identifies the product name of the mission. (This is 
the official name of the Clementine Mission.)

SPACECRAFT_NAME                = "CLEMENTINE 1"
Name of the spacecraft that acquired the data.

INSTRUMENT_NAME                = "ULTRAVIOLET/VISIBLE CAMERA"
Name of the instrument that acquired the image data.

INSTRUMENT_ID                  = "UVVIS"
Abbreviated name of the instrument that acquired the image data.

TARGET_NAME                    = "MOON"
Target of the data product.

FILTER_NAME                    = ("A","B","C","D","E")
Images acquired from each filter of the UVVIS camera were used to 
complete the Clementine UVVIS DIM mosaic.

CENTER_FILTER_WAVELENGTH       = (415.000,750.000,900.000,
                                  950.000,1000.000)
The center filter wavelength (nanometers) of each UVVIS filter.

BANDWIDTH                      = ((40.000,10.000,20.000,
                                  30.000,30.000)
The bandwidth (nanometers) of each UVVIS filter.

START_TIME                     = "N/A"
STOP_TIME                      = "N/A"
SPACECRAFT_CLOCK_START_COUNT   = "N/A"
SPACECRAFT_CLOCK_STOP_COUNT    = "N/A"
Start_Time, Stop_Time, and clock counts are not applicable (N/A) 
for this data product but are required keywords.

PRODUCT_CREATION_TIME          = 1999-01-27T12:56:11
Time at which the image product was produced.

NOTE                           = "UVVIS 5-BAND MOSAIC"
Note field always says UVVIS 5-BAND MOSAIC.

OBJECT                         = IMAGE
BANDS                          = 5
There are five spectral bands in the UVVIS DIM mosaic.

BAND_STORAGE_TYPE            = BAND_SEQUENTIAL
Storage order is band sequential.

BAND_NAME                    = "N/A"
Band name keyword is not applicable.

LINES                        = xxxx
Number of lines (rows) in image array.

LINE_SAMPLES                 = xxxx
Number of samples (columns) in image array.

SAMPLE_TYPE                  = MSB_INTEGER
Data are stored in "Most Significant Byte" order first format. This 
is the storage order of Sun workstations and Macintosh computers. 
Other systems, such as IBM/PC compatible computers and DEC/VAX 
systems will need to reverse the byte order of the 16-bit pixels 
before the data can be used.


SAMPLE_BITS                  = 16
There are 16 bits per sample (2 bytes).

SAMPLE_BIT_MASK              = 2#1111111111111111#
This keyword indicates all bits within a 16-bit word are used in 
the expression of the value.

OFFSET                       = 0.0
SCALING_FACTOR               = 1.350000E-04
The OFFSET and SCALING_FACTOR keywords contain values used to 
convert the 16-bit integer pixel value to radiometric units. 

FRACTIONAL_REFLECTANCE = (PIXEL* SCALING_FACTOR) + OFFSET

VALID_MINIMUM                = -32752
Lowest valid value that can be stored in pixel (always -32752).

NULL                         = -32768
Value of empty pixels or missing data (always -32768).

LOW_REPR_SATURATION          = -32767
Value of pixel if processing caused a low-end value pixel to go 
outside  dynamic range of a 16-bit signed integer (always -32767).

LOW_INSTR_SATURATION         = -32766
Value if pixel was low-end saturated (always -32766). For example, 
if the bias of the camera was set so that low DN values could not 
be stored in the pixel.

HIGH_INSTR_SATURATION        = -32765
Value of pixel if processing caused a high-end value pixel to go 
outside dynamic range of a 16-bit signed integer (always -32765).

HIGH_REPR_SATURATION         = -32764
Value if pixel was high-end saturated (always -32764). For example, 
if the scene was too bright for the image to record at the pixel 
value became saturated.

MINIMUM                      = xxxx
Minimum value in image array.

MAXIMUM                      = xxxx
Maximum value in image array.

CHECKSUM                     = xxxxxxxx
Sum of all bytes in the image object. Used to validate that an 
image file was properly stored on the media.

END_OBJECT                     = IMAGE

OBJECT                         = IMAGE_MAP_PROJECTION

^DATA_SET_MAP_PROJECTION     = "DSMAP.CAT"
Name of file containing additional information about the map 
projection. DSMAP.CAT is located in the 'catalog' directory.

COORDINATE_SYSTEM_TYPE       = "BODY-FIXED ROTATING"
COORDINATE_SYSTEM_NAME       = "PLANETOGRAPHIC"
Coordinate system used in the map projection.

MAP_PROJECTION_TYPE          = "SINUSOIDAL"
Name of map projection. 

MAP_RESOLUTION               = xxx.xxxxx
Map resolution (pixels per degree) at the reference point of the 
projection.

MAP_SCALE                    = x.xxxxxx
Map scale (kilometers per pixel) at the reference point of the 
projection.

MAXIMUM_LATITUDE             = xx.xxxxxxx
Maximum latitude of the image file

MINIMUM_LATITUDE             = xx.xxxxxxx
Minimum latitude of the image file.

EASTERNMOST_LONGITUDE        = xxx.xxxxxxx
Easternmost longitude of the image file.

WESTERNMOST_LONGITUDE        = xxx.xxxxxxx
Westernmost longitude of the image file

LINE_PROJECTION_OFFSET       = xxxxx.xxxxxxx
SAMPLE_PROJECTION_OFFSET     = xxxxx.xxxxxxx
Projection offsets are used to define the relationship between line 
and sample of the image array and the latitude and longitude 
coordinate on the surface of the planet. See 'dsmap.cat' file 
located in the 'catalog' directory for information on these 
keywords.

A_AXIS_RADIUS                = 1737.4000000
B_AXIS_RADIUS                = 1737.4000000
C_AXIS_RADIUS                = 1737.4000000
Three-axis radius of the Moon used in the derivation of the map 
products that make up the UVVIS 5-band mosaic.

FIRST_STANDARD_PARALLEL      = "N/A"
SECOND_STANDARD_PARALLEL     = "N/A"
Standard parallels of map, not used in this Sinusoidal Equal-Area 
projection.

POSITIVE_LONGITUDE_DIRECTION = EAST
The Moon coordinate system uses a positive longitude direction of 
east. Longitude values increase in the eastern direction.

CENTER_LATITUDE              = 0.0
Center latitude of the map projection.

CENTER_LONGITUDE             = xxxx.xxxx
Center longitude of the map projection.

REFERENCE_LATITUDE           = "N/A"
REFERENCE_LONGITUDE          = "N/A"
Reference latitude and longitudes are not used in the Sinusoidal 
Equal-Area projection.

LINE_FIRST_PIXEL             = 1
SAMPLE_FIRST_PIXEL           = 1
The first pixel (upper left) in the image array is defined as line 
1, sample 1.

LINE_LAST_PIXEL              = xxxx
SAMPLE_LAST_PIXEL            = xxxx
The last pixel (lower right) in the image arrays is defined by 
these keywords.

MAP_PROJECTION_ROTATION      = 0.0000000
Map projection rotation always 0 for the Clementine UVVIS DIM.

VERTICAL_FRAMELET_OFFSET     = "N/A"
HORIZONTAL_FRAMELET_OFFSET   = "N/A"
These keywords are not applicable for the Sinusoidal Equal-Area 
projection.

END_OBJECT                     = IMAGE_MAP_PROJECTION
END


APPENDIX B - GEOMETRIC DEFINITION OF A PIXEL
============================================

The purpose here is to describe the spatial or geometric definition 
of a pixel used in the generation and utilization of the digital 
image products. A broad range of factors enters into this question. 
For example, is a pixel to be conceived of as a point or as an 
area? The point definition would be most convenient, for instance, 
when dealing with coordinate grid overlays. This results in an odd 
number of pixels across a map that has an even number of spatial 
increments. For changing scales (for instance by even powers of 2) 
this definition becomes a problem. In this case it makes more sense 
to treat a pixel as a finite area. Then an even number of pixels 
covers an even number of spatial increments and 
decreasing/increasing scales by a power of 2 becomes trivial. 
However, grids now fall between pixels, at least in a mathematical 
sense. Their treatment in the generation of hardcopy therefore 
becomes an issue. 

It was decided that the area concept of a pixel was the better 
choice; we would have to live with the asymmetries introduced in 
things like cartographic grids. There are various solutions: (1) 
use two pixels for the width of a grid line, (2) stagger grid 
pixels back-and-forth across the mathematical position, (3) use a 
convention whereby grid lines are systematically drawn offset from 
their mathematical position. 

The next issue is the conversion between integer coordinates and 
real coordinates of the pixel mesh. We adopt the convention that 
pixels are numbered (or named if you like) beginning in the upper 
left corner with line 1, sample 1 (pixel 1,1); lines increase 
downward; samples increase to the right. (Even this is not a 
universal standard; some astronomical systems begin, perhaps more 
logically, in the lower left corner.) There are three reasonable 
possibilities for aligning a real, or floating point, coordinate 
system with the pixel mesh: the coordinate 1.0, 1.0 could be the 
upper left, the center, or the lower right of pixel 1,1. The 
convention historically used for geometric calibration files 
(Reseau positions) and also used in the Multimission Image 
Processing Laboratory at the Jet Propulsion Laboratory, is that the 
center of the pixel is defined as its location in real coordinates. 
In other words, the real coordinates of the center of pixel 1,1 are 
1.0, 1.0. The top left corner of the pixel is 0.5, 0.5 and the 
bottom right corner is 1.49999...,1.499999. The bottom and right 
edge of a pixel is the mathematically open boundary. This is the 
standard adopted in the image products.

Cartographic conventions must also be defined. The map projection 
representation of a pixel is mathematically open at the increasing 
(right and lower) boundaries, and mathematically closed at its left 
and upper boundaries. An exception occurs at the physical limits of 
the projection; the lower boundary of the lowest pixel is closed to 
include the limit of the projection (e. g. the south pole). The 
figure below shows the coordinates of Pixel 1,1.

             

                 
                          Coordinates of Pixel 1,1

                  longitude  180.0         179.00001
                              |               |
                  latitude    |               |   line
                     90.0  -- ----------------- -- 0.5
                              |               |
                              |               |
                              |               |
                              |               |
                              |       +       |
                              |   (1.0,1.0)   |
                              |               |
                              |               |
                              |               |
                  89.00001 -- ----------------- -- 1.49999
                              |               |
                              |               |
                     sample  0.5            1.49999


Finally, we must select a convention for drawing grid lines for 
various cartographic coordinates on planetary images and maps. The 
convention used for the image products is that a grid line is drawn 
in the pixels that contain its floating point value until the open 
boundary is reached and then an exception is made so that the outer 
range of latitude and longitude will always appear on the image. 
This means, in the example given above, a 10 degree grid would 
start on pixel 1 and be drawn on every tenth pixel (11,21,31,...) 
until the open boundary is reached. Then the line would be drawn on 
the pixel previous to the open boundary (line 180 instead of line 
181, or sample 360 instead of 361).


To summarize, the conventions are:

1) Pixels are treated as areas, not as points.

2) The integer coordinates begin with 1,1 (read "line 1, sample 1") 
for the upper-left-most pixel; lines increase downward; samples 
increase to the right.

3) Integer and floating point image coordinates are the same at the 
center of a pixel.

4) Grids will be drawn in the pixels that contain the floating 
point location of the grid lines except for open boundaries, which 
will be drawn to the left or above the open boundary.
19

